import{q as $,r as ee,s as ae,t as te,v as oe,w as le,x as re,y as se,z as de,A as ue,B as ne,C as ie,D as T,E as x,F as V,g as w,G as ce,H as me,I as ge}from"./VDataTable-CgjyD1BR.js";import{a as ve,p as be,aY as pe,e as g,ad as o,ao as Pe,ar as ye,h as he,i as s,y as i,Q as De,F as B,av as I}from"./index-hXTrqSpr.js";const fe=be({itemsLength:{type:[Number,String],required:!0},...ge(),...me(),...ce()},"VDataTableServer"),xe=ve()({name:"VDataTableServer",props:fe(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,F){let{attrs:G,slots:a}=F;const{groupBy:d}=$(e),{sortBy:l,multiSort:H,mustSort:R}=ee(e),{page:u,itemsPerPage:c}=ae(e),{disableSort:k}=pe(e),E=g(()=>parseInt(e.itemsLength,10)),{columns:v,headers:N}=te(e,{groupBy:d,showSelect:o(()=>e.showSelect),showExpand:o(()=>e.showExpand)}),{items:n}=oe(e,v),{toggleSort:b}=le({sortBy:l,multiSort:H,mustSort:R,page:u}),{opened:C,isGroupOpen:_,toggleGroup:L,extractRows:q}=re({groupBy:d,sortBy:l,disableSort:k}),{pageCount:A,setItemsPerPage:O}=se({page:u,itemsPerPage:c,itemsLength:E}),{flatItems:p}=de(n,d,C,()=>!!a["group-summary"]),{isSelected:z,select:Q,selectAll:W,toggleSelect:Y,someSelected:j,allSelected:J}=ue(e,{allItems:n,currentPage:n}),{isExpanded:K,toggleExpand:M}=ne(e),P=g(()=>q(n.value));ie({page:u,itemsPerPage:c,sortBy:l,groupBy:d,search:o(()=>e.search)}),Pe("v-data-table",{toggleSort:b,sortBy:l}),ye({VDataTableRows:{hideNoData:o(()=>e.hideNoData),noDataText:o(()=>e.noDataText),loading:o(()=>e.loading),loadingText:o(()=>e.loadingText)}});const t=g(()=>({page:u.value,itemsPerPage:c.value,sortBy:l.value,pageCount:A.value,toggleSort:b,setItemsPerPage:O,someSelected:j.value,allSelected:J.value,isSelected:z,select:Q,selectAll:W,toggleSelect:Y,isExpanded:K,toggleExpand:M,isGroupOpen:_,toggleGroup:L,items:P.value.map(m=>m.raw),internalItems:P.value,groupedItems:p.value,columns:v.value,headers:N.value}));he(()=>{const m=T.filterProps(e),U=x.filterProps(e),X=V.filterProps(e),Z=w.filterProps(e);return s(w,I({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},Z,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>{var r;return(r=a.top)==null?void 0:r.call(a,t.value)},default:()=>{var r,y,h,D,f,S;return a.default?a.default(t.value):i(B,null,[(r=a.colgroup)==null?void 0:r.call(a,t.value),!e.hideDefaultHeader&&i("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[s(x,U,a)]),(y=a.thead)==null?void 0:y.call(a,t.value),!e.hideDefaultBody&&i("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[(h=a["body.prepend"])==null?void 0:h.call(a,t.value),a.body?a.body(t.value):s(V,I(G,X,{items:p.value}),a),(D=a["body.append"])==null?void 0:D.call(a,t.value)]),(f=a.tbody)==null?void 0:f.call(a,t.value),(S=a.tfoot)==null?void 0:S.call(a,t.value)])},bottom:()=>a.bottom?a.bottom(t.value):!e.hideDefaultFooter&&i(B,null,[s(De,null,null),s(T,m,{prepend:a["footer.prepend"]})])})})}});export{xe as V};
