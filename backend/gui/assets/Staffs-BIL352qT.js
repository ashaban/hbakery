import{_ as qe,r as y,$ as O,d as ee,k as Oe,q as P,v as l,a0 as Le,a1 as je,t as w,h as t,x as V,N as we,G as c,B as o,A as g,Z as L,ae as Ie,aM as Be,H as u,a2 as j,C as ze,a4 as te,ay as E,D as Z,i as ae,a3 as le,K as Se,L as N,M as F,af as A}from"./index-C1Tj7Gr4.js";import{u as Ge,r as se,m as Ke}from"./index-CyLhoFrE.js";import{V as Ze}from"./VContainer-DjHLodrw.js";import{V as k,b as h,c as J,a as _e}from"./VCard-BTVuuPde.js";import{V as H}from"./VCol-DviWLfXs.js";import{V as T}from"./VTextField-ByAT7d5t.js";import{V as oe,o as Je,e as Qe}from"./VDataTable-B2-JjakP.js";import{V as We}from"./VDataTableServer-DX--LLFj.js";import{V as re}from"./VChip-BoOgafMF.js";import{V as I}from"./VDialog-DXmIvNfP.js";import{V as ne}from"./VForm-CB7-a3w8.js";import{V as ke}from"./VTextarea-CsNS21lN.js";import"./dialog-transition-C6ql0rGP.js";import"./VSlideGroup-CXfqPmJw.js";const Xe={class:"d-flex justify-space-between mb-4"},Ye={class:"d-flex justify-end align-center mt-4"},et={class:"d-flex align-center flex-wrap"},tt={class:"text-white font-weight-bold text-h6"},at={class:"mb-4"},lt={key:0,class:"text-caption text-error mt-1"},st={class:"mb-4"},ot={key:0,class:"text-caption text-error mt-1"},rt={class:"text-caption text-grey"},nt={class:"mb-4"},it={key:0,class:"text-caption text-error mt-1"},dt={key:1,class:"text-grey"},ut={__name:"Staffs",setup(ft){const Q=y(10),b=Le(),m=y(!1),x=y(!1),$=y(!1),_=y(!1),W=y(null),R=y(!1),U=y(!1);y(!1);const B=y(!1),C=y(1),ie=y(0),de=y([]),xe=O({total_staff:""});y([]);const ue=y([]),d=y(null),v=O({search:"",status:"",hiredDate:null}),Ce=[{title:"Name",key:"name"},{title:"Phone",key:"phone"},{title:"Position",key:"position"},{title:"Salary",key:"salary"},{title:"Last Hired Date",key:"hired_at"},{title:"Status",key:"status"},{title:"Actions",key:"actions",sortable:!1}],Ee=[{title:"Position",key:"position"},{title:"Salary",key:"salary"},{title:"Start Date",key:"start_date"},{title:"End Date",key:"end_date"},{title:"End Reason",key:"end_reason"},{title:"Notes",key:"notes"}],i=O({name:"",phone:"",position:"",salary:"",status:"Active",hired_at:new Date().toISOString().split("T")[0]}),p=O({end_date:new Date().toISOString().split("T")[0],end_reason:"Resignation",notes:""}),f=O({position:"",salary:"",rehire_date:new Date().toISOString().split("T")[0],notes:""}),he={name:{required:se},salary:{required:se,minValue:Ke(0)},hired_at:{required:se}},D=Ge(he,i),fe=ee(()=>{if(!i.hired_at)return"Hire date is required";const s=q(i.hired_at);if(!s)return"Invalid date format";const e=new Date;return e.setHours(0,0,0,0),s>e?"Hire date cannot be in the future":""}),me=ee(()=>{if(!p.end_date)return"End date is required";const s=q(p.end_date),e=ye();if(!s)return"Invalid date format";const r=new Date;return r.setHours(0,0,0,0),s>r?"End date cannot be in the future":e&&s<e?`End date must be on or after ${M(e)}`:""}),pe=ee(()=>{if(!f.rehire_date)return"Rehire date is required";const s=q(f.rehire_date),e=ce();if(!s)return"Invalid date format";const r=new Date;return r.setHours(0,0,0,0),s>r?"Rehire date cannot be in the future":e&&s<e?`Rehire date must be on or after ${M(e)}`:""}),X=s=>s?Number(s).toLocaleString("en-US",{minimumFractionDigits:0})+" TSh":"0 TSh",M=s=>{if(!s)return"";let e;if(s instanceof Date)e=s;else if(typeof s=="string"){const r=s.split("-");if(r.length===3){const[a,n,Y]=r;e=new Date(Y,n-1,a)}else e=new Date(s)}return e&&!isNaN(e.getTime())?e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):String(s)},q=s=>{if(!s)return null;if(s instanceof Date)return s;if(typeof s=="string"){const e=s.split("-");if(e.length===3){const[a,n,Y]=e,De=new Date(Y,n-1,a);if(!isNaN(De.getTime()))return De}const r=new Date(s);if(!isNaN(r.getTime()))return r}return null},ve=s=>{switch(s){case"Active":return"green";case"Resigned":return"orange";case"Terminated":return"red";default:return"grey"}},Te=s=>{switch(s){case"Termination":return"red";case"Resignation":return"orange";case"Contract Expired":return"blue";case"Retirement":return"purple";default:return"grey"}},z=()=>!fe.value&&i.hired_at,G=()=>!me.value&&p.end_date,K=()=>!pe.value&&f.rehire_date,ye=()=>{if(!d.value)return null;const s=d.value.hired_at;return q(s)},ce=()=>d.value&&d.value.last_end_date?q(d.value.last_end_date):null;async function S(){m.value=!0;const s=new URLSearchParams({page:C.value,limit:Q.value});if(v.search&&s.append("search",v.search),v.status&&s.append("status",v.status),v.hiredDate){const r=new Date(v.hiredDate).toISOString().split("T")[0];s.append("hired_at",r)}try{const r=await(await fetch(`/staffs?${s.toString()}`)).json();de.value=r.data||[],xe.total_staff=r.totalRecords||0,ie.value=r.totalRecords||0}catch(e){console.error(e),b.commit("setMessage",{type:"error",text:"Failed to load staff"})}finally{m.value=!1}}async function ge(s){m.value=!0;try{const r=await(await fetch(`/staffs/${s}/contracts`)).json();if(ue.value=r.data||[],r.data&&r.data.length>0){const a=r.data.find(n=>n.end_date)||r.data[0];a&&a.end_date&&(d.value.last_end_date=a.end_date)}}catch(e){console.error(e),b.commit("setMessage",{type:"error",text:"Failed to load staff contract history"})}finally{m.value=!1}}function $e(){C.value=1,S()}function Re(){v.search="",v.status="",v.hiredDate=null,C.value=1,S()}function Ue(){_.value=!1,Object.assign(i,{name:"",phone:"",position:"",salary:"",status:"Active",hired_at:""}),x.value=!0,D.value.$reset()}function Me(s){_.value=!0,W.value=s.id,Object.assign(i,{...s,hired_at:s.hired_at||new Date().toISOString().split("T")[0]}),x.value=!0,D.value.$reset()}async function Pe(s){d.value=s,Object.assign(p,{end_date:new Date().toISOString().split("T")[0],end_reason:"Resignation",notes:""}),R.value=!0}async function Ne(s){d.value=s,Object.assign(f,{position:s.position||"",salary:s.salary||"",rehire_date:new Date().toISOString().split("T")[0],notes:""}),await ge(s.id),U.value=!0}async function Fe(s){d.value=s,await ge(s.id),B.value=!0}async function Ve(){if(!p.end_date||!p.end_reason||!G()){b.commit("setMessage",{type:"error",text:"Please fix the validation errors"});return}m.value=!0;try{const s=new FormData;if(s.append("staff_id",d.value.id),s.append("end_date",p.end_date),s.append("end_reason",p.end_reason),s.append("notes",p.notes),s.append("status",p.end_reason==="Resignation"?"Resigned":"Terminated"),!(await fetch("/staffs/contracts/end",{method:"POST",body:s})).ok)throw new Error("Failed to end contract");R.value=!1,S(),b.commit("setMessage",{type:"success",text:`Contract ended for ${d.value.name}`})}catch(s){console.error(s),b.commit("setMessage",{type:"error",text:"Failed to end contract"})}finally{m.value=!1}}async function be(){if(!f.position||!f.salary||!f.rehire_date||!K()){b.commit("setMessage",{type:"error",text:"Please fix the validation errors"});return}m.value=!0;try{const s=new FormData;if(s.append("staff_id",d.value.id),s.append("position",f.position),s.append("salary",f.salary),s.append("rehire_date",f.rehire_date),s.append("notes",f.notes),!(await fetch("/staffs/contracts/rehire",{method:"POST",body:s})).ok)throw new Error("Failed to rehire staff");U.value=!1,S(),b.commit("setMessage",{type:"success",text:`${d.value.name} rehired successfully`})}catch(s){console.error(s),b.commit("setMessage",{type:"error",text:"Failed to rehire staff"})}finally{m.value=!1}}async function Ae(){if(D.value.$touch(),D.value.$invalid||!z())return;m.value=!0;const s=new FormData;s.append("name",i.name),s.append("phone",i.phone),s.append("position",i.position),s.append("salary",i.salary),s.append("status",i.status),s.append("hired_at",i.hired_at);const e=_.value?`/staffs/${W.value}`:"/staffs",r=_.value?"PUT":"POST";try{if(!(await fetch(e,{method:r,body:s})).ok)throw new Error("Failed to save");x.value=!1,S(),b.commit("setMessage",{type:"success",text:_.value?"Staff updated!":"Staff added!"})}catch{b.commit("setMessage",{type:"error",text:"Failed to save staff"})}finally{m.value=!1}}async function He(){m.value=!0;try{await fetch(`/staffs/${W.value}`,{method:"DELETE"}),$.value=!1,x.value=!1,S(),b.commit("setMessage",{type:"success",text:"Staff deleted!"})}catch{b.commit("setMessage",{type:"error",text:"Failed to delete staff"})}finally{m.value=!1}}return Oe(()=>S()),(s,e)=>{const r=je("VueDatePicker");return w(),P(Ze,{fluid:""},{default:l(()=>[t(k,{class:"pa-4 mb-4"},{default:l(()=>[t(we,{dense:""},{default:l(()=>[t(H,{cols:"12",sm:"4"},{default:l(()=>[t(T,{modelValue:v.search,"onUpdate:modelValue":e[0]||(e[0]=a=>v.search=a),"append-inner-icon":"mdi-close-circle",clearable:"",label:"Search Staff Name","onClick:appendInner":e[1]||(e[1]=a=>v.search="")},null,8,["modelValue"])]),_:1}),t(H,{cols:"12",sm:"3"},{default:l(()=>[t(oe,{modelValue:v.status,"onUpdate:modelValue":e[2]||(e[2]=a=>v.status=a),clearable:"",items:["Active","Resigned","Terminated"],label:"Filter by Status"},null,8,["modelValue"])]),_:1}),t(H,{cols:"12",sm:"3"},{default:l(()=>[t(r,{modelValue:v.hiredDate,"onUpdate:modelValue":e[3]||(e[3]=a=>v.hiredDate=a),"auto-apply":"",class:"flex-1 border rounded-lg px-2 py-1",format:"dd-MM-yyyy","model-type":"format",placeholder:"From",teleport:!0},null,8,["modelValue"])]),_:1}),t(H,{class:"d-flex justify-end",cols:"12"},{default:l(()=>[t(c,{color:"primary",onClick:$e},{default:l(()=>[t(g,{start:""},{default:l(()=>e[35]||(e[35]=[o("mdi-filter")])),_:1}),e[36]||(e[36]=o(" Apply "))]),_:1}),t(c,{class:"ml-2",color:"grey",onClick:Re},{default:l(()=>[t(g,{start:""},{default:l(()=>e[37]||(e[37]=[o("mdi-refresh")])),_:1}),e[38]||(e[38]=o(" Reset "))]),_:1})]),_:1})]),_:1})]),_:1}),V("div",Xe,[e[41]||(e[41]=V("h3",null,"Staff Management",-1)),V("div",null,[s.$store.getters.hasTask("can_add_staffs")?(w(),P(c,{key:0,class:"text-white mr-2",color:"primary",size:"small",onClick:Ue},{default:l(()=>[t(g,{start:""},{default:l(()=>e[39]||(e[39]=[o("mdi-plus")])),_:1}),e[40]||(e[40]=o(" Add Staff "))]),_:1})):L("",!0)])]),t(Ie,{active:m.value,indeterminate:m.value},null,8,["active","indeterminate"]),t(We,{"items-per-page":Q.value,"onUpdate:itemsPerPage":e[4]||(e[4]=a=>Q.value=a),page:C.value,"onUpdate:page":e[5]||(e[5]=a=>C.value=a),class:"elevation-1",dense:"",headers:Ce,items:de.value,"items-length":ie.value,"items-per-page-options":[5,10,20,50,100],loading:m.value,"onUpdate:options":S},Be({"item.salary":l(({item:a})=>[o(u(X(a.salary)),1)]),"item.hired_at":l(({item:a})=>[o(u(M(a.hired_at)),1)]),"item.status":l(({item:a})=>[t(re,{color:ve(a.status),label:"",size:"small"},{default:l(()=>[o(u(a.status),1)]),_:2},1032,["color"])]),_:2},[s.$store.getters.hasTask("can_edit_staffs")?{name:"item.actions",fn:l(({item:a})=>[t(g,{class:"mr-2",color:"info",title:"View Details",onClick:n=>Fe(a)},{default:l(()=>e[42]||(e[42]=[o(" mdi-eye ")])),_:2},1032,["onClick"]),a.status==="Active"?(w(),P(g,{key:0,class:"mr-2",color:"warning",title:"End Contract",onClick:n=>Pe(a)},{default:l(()=>e[43]||(e[43]=[o(" mdi-account-arrow-right ")])),_:2},1032,["onClick"])):(w(),P(g,{key:1,class:"mr-2",color:"success",title:"Rehire Staff",onClick:n=>Ne(a)},{default:l(()=>e[44]||(e[44]=[o(" mdi-account-arrow-left ")])),_:2},1032,["onClick"])),t(g,{color:"primary",onClick:n=>Me(a)},{default:l(()=>e[45]||(e[45]=[o(" mdi-square-edit-outline ")])),_:2},1032,["onClick"])]),key:"0"}:void 0]),1032,["items-per-page","page","items","items-length","loading"]),V("div",Ye,[t(Je,{modelValue:C.value,"onUpdate:modelValue":[e[6]||(e[6]=a=>C.value=a),S],length:s.totalPages,"total-visible":"7"},null,8,["modelValue","length"])]),t(I,{modelValue:x.value,"onUpdate:modelValue":e[16]||(e[16]=a=>x.value=a),"max-width":"600",transition:"dialog-top-transition"},{default:l(()=>[t(k,{class:"rounded-xl pa-4",elevation:"10"},{default:l(()=>[t(j,{class:"rounded-lg flex-wrap px-4",color:"primary",flat:""},{default:l(()=>[V("div",et,[t(g,{class:"mr-2 text-white"},{default:l(()=>e[46]||(e[46]=[o("mdi-account")])),_:1}),V("span",tt,u(_.value?"Edit Staff":"Add Staff"),1)]),t(ze),t(c,{color:"white",icon:"mdi-close",onClick:e[7]||(e[7]=a=>x.value=!1)})]),_:1}),t(h,{class:"pt-6"},{default:l(()=>[t(ne,{onSubmit:e[14]||(e[14]=te(()=>{},["prevent"]))},{default:l(()=>{var a;return[t(T,{modelValue:i.name,"onUpdate:modelValue":e[8]||(e[8]=n=>i.name=n),"bg-color":"#E0E0E0","error-messages":E(D).name.$errors.map(n=>n.$message),label:"Full Name",required:"",onBlur:E(D).name.$touch},null,8,["modelValue","error-messages","onBlur"]),t(T,{modelValue:i.phone,"onUpdate:modelValue":e[9]||(e[9]=n=>i.phone=n),"bg-color":"#E0E0E0",label:"Phone Number"},null,8,["modelValue"]),t(T,{modelValue:i.position,"onUpdate:modelValue":e[10]||(e[10]=n=>i.position=n),"bg-color":"#E0E0E0",label:"Position"},null,8,["modelValue"]),t(T,{modelValue:i.salary,"onUpdate:modelValue":e[11]||(e[11]=n=>i.salary=n),"bg-color":"#E0E0E0","error-messages":E(D).salary.$errors.map(n=>n.$message),label:"Salary (TSh)",required:"",type:"number",onBlur:E(D).salary.$touch},null,8,["modelValue","error-messages","onBlur"]),V("div",at,[e[47]||(e[47]=V("label",{class:"v-label text-body-2 mb-2"},"Hired Date *",-1)),t(r,{modelValue:i.hired_at,"onUpdate:modelValue":e[12]||(e[12]=n=>i.hired_at=n),"auto-apply":"",class:ae({"datepicker-error":!z()}),clearable:!1,"enable-time-picker":!1,format:"dd-MM-yyyy","max-date":new Date,"model-type":"format",placeholder:"Select Hire Date",required:"",teleport:!0},null,8,["modelValue","class","max-date"]),E(D).hired_at.$error||!z()?(w(),Z("div",lt,u(((a=E(D).hired_at.$errors[0])==null?void 0:a.$message)||fe.value),1)):L("",!0)]),t(oe,{modelValue:i.status,"onUpdate:modelValue":e[13]||(e[13]=n=>i.status=n),"bg-color":"#E0E0E0",items:["Active","Resigned","Terminated"],label:"Status",readonly:"true",required:""},null,8,["modelValue"])]}),_:1})]),_:1}),t(J,{class:"d-flex justify-end"},{default:l(()=>[t(c,{color:"success",disabled:E(D).$invalid||!z(),loading:m.value,onClick:Ae},{default:l(()=>[t(g,{start:""},{default:l(()=>e[48]||(e[48]=[o("mdi-content-save")])),_:1}),o(" "+u(_.value?"Save Changes":"Add Staff"),1)]),_:1},8,["disabled","loading"]),_.value?(w(),P(c,{key:0,color:"error",onClick:e[15]||(e[15]=a=>$.value=!0)},{default:l(()=>[t(g,{start:""},{default:l(()=>e[49]||(e[49]=[o("mdi-delete")])),_:1}),e[50]||(e[50]=o(" Delete "))]),_:1})):L("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(I,{modelValue:R.value,"onUpdate:modelValue":e[22]||(e[22]=a=>R.value=a),"max-width":"500"},{default:l(()=>[t(k,null,{default:l(()=>[t(j,{color:"warning"},{default:l(()=>[t(le,null,{default:l(()=>{var a;return[o("End Contract - "+u((a=d.value)==null?void 0:a.name),1)]}),_:1}),t(c,{color:"white",icon:"mdi-close",onClick:e[17]||(e[17]=a=>R.value=!1)})]),_:1}),t(h,{class:"pt-6"},{default:l(()=>[t(ne,{onSubmit:te(Ve,["prevent"])},{default:l(()=>[V("div",st,[e[51]||(e[51]=V("label",{class:"v-label text-body-2 mb-2"},"End Date *",-1)),t(r,{modelValue:p.end_date,"onUpdate:modelValue":e[18]||(e[18]=a=>p.end_date=a),"auto-apply":"",class:ae({"datepicker-error":!G()}),clearable:!1,"enable-time-picker":!1,format:"dd-MM-yyyy","max-date":new Date,"min-date":ye(),"model-type":"format",placeholder:"Select End Date",required:"",teleport:!0},null,8,["modelValue","class","max-date","min-date"]),G()?L("",!0):(w(),Z("div",ot,u(me.value),1))]),t(oe,{modelValue:p.end_reason,"onUpdate:modelValue":e[19]||(e[19]=a=>p.end_reason=a),items:["Resignation","Termination","Contract Expired","Mutual Agreement","Retirement","Other"],label:"Reason for Ending Contract *",required:""},null,8,["modelValue"]),t(ke,{modelValue:p.notes,"onUpdate:modelValue":e[20]||(e[20]=a=>p.notes=a),label:"Additional Notes",placeholder:"Enter any additional details about the contract end...",rows:"3"},null,8,["modelValue"]),V("div",rt,[t(g,{class:"mr-1",small:""},{default:l(()=>e[52]||(e[52]=[o("mdi-information")])),_:1}),e[53]||(e[53]=o(" This will change the staff status to the selected reason and record the contract end. The staff can be rehired later if needed. "))])]),_:1})]),_:1}),t(J,{class:"d-flex justify-end"},{default:l(()=>[t(c,{color:"grey",onClick:e[21]||(e[21]=a=>R.value=!1)},{default:l(()=>e[54]||(e[54]=[o("Cancel")])),_:1}),t(c,{color:"warning",disabled:!G()||!p.end_reason,loading:m.value,onClick:Ve},{default:l(()=>[t(g,{start:""},{default:l(()=>e[55]||(e[55]=[o("mdi-account-arrow-right")])),_:1}),e[56]||(e[56]=o(" End Contract "))]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(I,{modelValue:U.value,"onUpdate:modelValue":e[29]||(e[29]=a=>U.value=a),"max-width":"500"},{default:l(()=>[t(k,null,{default:l(()=>[t(j,{color:"success"},{default:l(()=>[t(le,null,{default:l(()=>{var a;return[o("Rehire Staff - "+u((a=d.value)==null?void 0:a.name),1)]}),_:1}),t(c,{color:"white",icon:"mdi-close",onClick:e[23]||(e[23]=a=>U.value=!1)})]),_:1}),t(h,{class:"pt-6"},{default:l(()=>[t(ne,{onSubmit:te(be,["prevent"])},{default:l(()=>[t(T,{modelValue:f.position,"onUpdate:modelValue":e[24]||(e[24]=a=>f.position=a),label:"Position *",required:""},null,8,["modelValue"]),t(T,{modelValue:f.salary,"onUpdate:modelValue":e[25]||(e[25]=a=>f.salary=a),label:"Salary (TSh) *",required:"",type:"number"},null,8,["modelValue"]),V("div",nt,[e[57]||(e[57]=V("label",{class:"v-label text-body-2 mb-2"},"Rehire Date *",-1)),t(r,{modelValue:f.rehire_date,"onUpdate:modelValue":e[26]||(e[26]=a=>f.rehire_date=a),"auto-apply":"",class:ae({"datepicker-error":!K()}),clearable:!1,"enable-time-picker":!1,format:"dd-MM-yyyy","max-date":new Date,"min-date":ce(),"model-type":"format",placeholder:"Select Rehire Date",required:"",teleport:!0},null,8,["modelValue","class","max-date","min-date"]),K()?L("",!0):(w(),Z("div",it,u(pe.value),1))]),t(ke,{modelValue:f.notes,"onUpdate:modelValue":e[27]||(e[27]=a=>f.notes=a),label:"Rehire Notes",placeholder:"Enter any notes about the rehire...",rows:"3"},null,8,["modelValue"])]),_:1})]),_:1}),t(J,{class:"d-flex justify-end"},{default:l(()=>[t(c,{color:"grey",onClick:e[28]||(e[28]=a=>U.value=!1)},{default:l(()=>e[58]||(e[58]=[o("Cancel")])),_:1}),t(c,{color:"success",disabled:!f.position||!f.salary||!K(),loading:m.value,onClick:be},{default:l(()=>[t(g,{start:""},{default:l(()=>e[59]||(e[59]=[o("mdi-account-arrow-left")])),_:1}),e[60]||(e[60]=o(" Rehire Staff "))]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(I,{modelValue:B.value,"onUpdate:modelValue":e[31]||(e[31]=a=>B.value=a),"max-width":"1000"},{default:l(()=>[t(k,null,{default:l(()=>[t(j,{color:"info"},{default:l(()=>[t(le,null,{default:l(()=>{var a;return[o("Staff Details - "+u((a=d.value)==null?void 0:a.name),1)]}),_:1}),t(c,{color:"white",icon:"mdi-close",onClick:e[30]||(e[30]=a=>B.value=!1)})]),_:1}),t(h,{class:"pt-6"},{default:l(()=>[t(k,{class:"mb-6",variant:"outlined"},{default:l(()=>[t(_e,{class:"text-h6"},{default:l(()=>[t(g,{class:"mr-2"},{default:l(()=>e[61]||(e[61]=[o("mdi-account")])),_:1}),e[62]||(e[62]=o(" Personal Information "))]),_:1}),t(h,null,{default:l(()=>[t(we,null,{default:l(()=>[t(H,{cols:"6"},{default:l(()=>[t(Se,null,{default:l(()=>[t(N,null,{default:l(()=>[t(F,{class:"font-weight-bold"},{default:l(()=>e[63]||(e[63]=[o("Name:")])),_:1}),t(A,null,{default:l(()=>{var a;return[o(u((a=d.value)==null?void 0:a.name),1)]}),_:1})]),_:1}),t(N,null,{default:l(()=>[t(F,{class:"font-weight-bold"},{default:l(()=>e[64]||(e[64]=[o("Phone:")])),_:1}),t(A,null,{default:l(()=>{var a;return[o(u(((a=d.value)==null?void 0:a.phone)||"Not provided"),1)]}),_:1})]),_:1}),t(N,null,{default:l(()=>[t(F,{class:"font-weight-bold"},{default:l(()=>e[65]||(e[65]=[o("Current Status:")])),_:1}),t(A,null,{default:l(()=>{var a;return[t(re,{color:ve((a=d.value)==null?void 0:a.status),size:"small"},{default:l(()=>{var n;return[o(u((n=d.value)==null?void 0:n.status),1)]}),_:1},8,["color"])]}),_:1})]),_:1})]),_:1})]),_:1}),t(H,{cols:"6"},{default:l(()=>[t(Se,null,{default:l(()=>[t(N,null,{default:l(()=>[t(F,{class:"font-weight-bold"},{default:l(()=>e[66]||(e[66]=[o("Position:")])),_:1}),t(A,null,{default:l(()=>{var a;return[o(u(((a=d.value)==null?void 0:a.position)||"Not specified"),1)]}),_:1})]),_:1}),t(N,null,{default:l(()=>[t(F,{class:"font-weight-bold"},{default:l(()=>e[67]||(e[67]=[o("Salary:")])),_:1}),t(A,null,{default:l(()=>{var a;return[o(u(X((a=d.value)==null?void 0:a.salary)),1)]}),_:1})]),_:1}),t(N,null,{default:l(()=>[t(F,{class:"font-weight-bold"},{default:l(()=>e[68]||(e[68]=[o("Last Hired Date:")])),_:1}),t(A,null,{default:l(()=>{var a;return[o(u(M((a=d.value)==null?void 0:a.hired_at)),1)]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(k,{variant:"outlined"},{default:l(()=>[t(_e,{class:"text-h6"},{default:l(()=>[t(g,{class:"mr-2"},{default:l(()=>e[69]||(e[69]=[o("mdi-history")])),_:1}),e[70]||(e[70]=o(" Contract History "))]),_:1}),t(h,null,{default:l(()=>[t(Qe,{class:"elevation-1",headers:Ee,items:ue.value,loading:m.value},{"item.start_date":l(({item:a})=>[o(u(M(a.start_date)),1)]),"item.end_date":l(({item:a})=>[o(u(a.end_date?M(a.end_date):a.display_end_date),1)]),"item.salary":l(({item:a})=>[o(u(X(a.salary)),1)]),"item.end_reason":l(({item:a})=>[a.end_reason?(w(),P(re,{key:0,color:Te(a.end_reason),size:"small"},{default:l(()=>[o(u(a.end_reason),1)]),_:2},1032,["color"])):(w(),Z("span",dt,u(a.display_status),1))]),_:1},8,["items","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(I,{modelValue:$.value,"onUpdate:modelValue":e[34]||(e[34]=a=>$.value=a),persistent:"",width:"400"},{default:l(()=>[t(k,null,{default:l(()=>[t(j,{color:"warning",title:"Confirm Deleting "+i.name},{default:l(()=>[t(c,{color:"white",icon:"mdi-close",onClick:e[32]||(e[32]=a=>$.value=!1)})]),_:1},8,["title"]),t(h,null,{default:l(()=>[o("Are you sure you want to delete "+u(i.name)+"?",1)]),_:1}),t(J,{class:"d-flex justify-end"},{default:l(()=>[t(c,{color:"grey",onClick:e[33]||(e[33]=a=>$.value=!1)},{default:l(()=>e[71]||(e[71]=[o("Cancel")])),_:1}),t(c,{color:"error",onClick:He},{default:l(()=>e[72]||(e[72]=[o("Delete")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}},Ct=qe(ut,[["__scopeId","data-v-a5fb4bc7"]]);export{Ct as default};
