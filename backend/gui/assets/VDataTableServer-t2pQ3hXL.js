import{q as $,r as ee,s as ae,t as te,v as oe,w as le,x as re,y as se,z as de,A as ue,B as ne,C as ie,D as T,E as x,F as V,f as w,G as ce,H as me,I as ge}from"./VDataTable-IMEHFo_q.js";import{g as ve,p as be,aJ as pe,d as g,bx as o,b8 as Pe,f as ye,h as s,x as i,O as fe,F as B,a5 as I,by as he}from"./index-CFxNg9uJ.js";const De=be({itemsLength:{type:[Number,String],required:!0},...ge(),...me(),...ce()},"VDataTableServer"),xe=ve()({name:"VDataTableServer",props:De(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,F){let{attrs:G,slots:a}=F;const{groupBy:d}=$(e),{sortBy:l,multiSort:H,mustSort:R}=ee(e),{page:u,itemsPerPage:c}=ae(e),{disableSort:k}=pe(e),E=g(()=>parseInt(e.itemsLength,10)),{columns:v,headers:N}=te(e,{groupBy:d,showSelect:o(()=>e.showSelect),showExpand:o(()=>e.showExpand)}),{items:n}=oe(e,v),{toggleSort:b}=le({sortBy:l,multiSort:H,mustSort:R,page:u}),{opened:C,isGroupOpen:_,toggleGroup:L,extractRows:O}=re({groupBy:d,sortBy:l,disableSort:k}),{pageCount:q,setItemsPerPage:A}=se({page:u,itemsPerPage:c,itemsLength:E}),{flatItems:p}=de(n,d,C,()=>!!a["group-summary"]),{isSelected:z,select:J,selectAll:W,toggleSelect:j,someSelected:K,allSelected:M}=ue(e,{allItems:n,currentPage:n}),{isExpanded:Q,toggleExpand:U}=ne(e),P=g(()=>O(n.value));ie({page:u,itemsPerPage:c,sortBy:l,groupBy:d,search:o(()=>e.search)}),he("v-data-table",{toggleSort:b,sortBy:l}),Pe({VDataTableRows:{hideNoData:o(()=>e.hideNoData),noDataText:o(()=>e.noDataText),loading:o(()=>e.loading),loadingText:o(()=>e.loadingText)}});const t=g(()=>({page:u.value,itemsPerPage:c.value,sortBy:l.value,pageCount:q.value,toggleSort:b,setItemsPerPage:A,someSelected:K.value,allSelected:M.value,isSelected:z,select:J,selectAll:W,toggleSelect:j,isExpanded:Q,toggleExpand:U,isGroupOpen:_,toggleGroup:L,items:P.value.map(m=>m.raw),internalItems:P.value,groupedItems:p.value,columns:v.value,headers:N.value}));ye(()=>{const m=T.filterProps(e),X=x.filterProps(e),Y=V.filterProps(e),Z=w.filterProps(e);return s(w,I({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},Z,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>{var r;return(r=a.top)==null?void 0:r.call(a,t.value)},default:()=>{var r,y,f,h,D,S;return a.default?a.default(t.value):i(B,null,[(r=a.colgroup)==null?void 0:r.call(a,t.value),!e.hideDefaultHeader&&i("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[s(x,X,a)]),(y=a.thead)==null?void 0:y.call(a,t.value),!e.hideDefaultBody&&i("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[(f=a["body.prepend"])==null?void 0:f.call(a,t.value),a.body?a.body(t.value):s(V,I(G,Y,{items:p.value}),a),(h=a["body.append"])==null?void 0:h.call(a,t.value)]),(D=a.tbody)==null?void 0:D.call(a,t.value),(S=a.tfoot)==null?void 0:S.call(a,t.value)])},bottom:()=>a.bottom?a.bottom(t.value):!e.hideDefaultFooter&&i(B,null,[s(fe,null,null),s(T,m,{prepend:a["footer.prepend"]})])})})}});export{xe as V};
