import{_ as Q,s as R,v as Y,x as a,j as l,z as u,$ as y,P as m,D as i,E as b,I as r,a1 as F,Q as I,a0 as G,J as M,a6 as H,Y as K,r as f,a5 as W,q as X}from"./index-BWC57mqE.js";import{u as Z,r as h}from"./index-Di-IQXeH.js";import{V as p}from"./VDialog-C_uX5X1X.js";import{V as k,e as C,d as A}from"./VCard-BI_548n6.js";import{V as S}from"./VForm-DLSdHKgA.js";import{V as O}from"./VCol-DWZn5MAN.js";import{V as B}from"./VTextField-BUBZtWvQ.js";import{V as $}from"./VDataTable-BT5jeeYE.js";import{V as _}from"./VContainer-CSFeTSsk.js";import"./VSelect-B3SmRlp7.js";import"./VChip-CEVDHffS.js";import"./VSlideGroup-DR6QWFvL.js";const ee={setup(){const d=K(),e=f(!1),D=f([]),t=f({}),E=f([{title:"ID",key:"id"},{title:"Name",key:"name"},{title:"Edit",key:"edit"}]),w=f(!1),o=f(!1),x=f(!1),T=f(!1),v=W({name:""}),j=Z({name:{required:h}},v);function c(){e.value=!0,fetch("/settings/getOwner").then(s=>{s.json().then(n=>{e.value=!1,D.value=n}).catch(()=>{e.value=!1})}).catch(()=>{e.value=!1})}function z(){j.value.name.$touch(),w.value=!0,v.name=""}function N(s){t.value=JSON.parse(JSON.stringify(s)),o.value=!0,v.name=s.name}function U(){w.value=!1,e.value=!0;const s=new FormData;s.append("name",v.name),fetch("/settings/addOwner",{body:s,method:"POST"}).then(n=>{e.value=!1,n.status!==200&&n.status!==201?n.json().then(g=>{d.commit("setMessage",{type:"error",text:"Failed to save Owner! "+g.error,timeout:2e3})}):n.json().then(()=>{c(),d.commit("setMessage",{type:"primary",text:"Owner saved successfully!",timeout:2e3})})}).catch(n=>{e.value=!1,d.commit("setMessage",{type:"error",text:"Failed to save Owner!",timeout:2e3}),console.error("Error:",n)})}function q(){e.value=!0;const s=new FormData;s.append("name",v.name),fetch("/settings/editOwner/"+t.value.id,{body:s,method:"POST"}).then(n=>{e.value=!1,o.value=!1,n.status!==200&&n.status!==201?n.json().then(g=>{d.commit("setMessage",{type:"error",text:"Failed to edit Owner! "+g.error,timeout:2e3})}):n.json().then(()=>{c(),d.commit("setMessage",{type:"primary",text:"Owner edited successfully!",timeout:2e3})})}).catch(n=>{e.value=!1,d.commit("setMessage",{type:"error",text:"Failed to edit Owner!",timeout:2e3}),console.error("Error:",n)})}function P(){e.value=!0;const s=new FormData;x.value=!1,fetch("/settings/deleteOwner/"+t.value.id,{body:s,method:"DELETE"}).then(n=>{e.value=!1,o.value=!1,n.status!==200&&n.status!==201?n.json().then(g=>{d.commit("setMessage",{type:"error",text:"Failed to delete Owner! "+g.error,timeout:2e3})}):n.json().then(()=>{c(),d.commit("setMessage",{type:"primary",text:"Owner deleted successfully!",timeout:2e3})})}).catch(n=>{e.value=!1,d.commit("setMessage",{type:"error",text:"Failed to delete Owner!",timeout:2e3}),console.error("Error:",n)})}function J(){fetch("/settings/getOwner?response=csv").then(s=>{s.text().then(n=>{console.log(n);const g="csv",L="data:text/csv;charset=utf-8,"+escape(n),V=document.createElement("a");V.setAttribute("href",L),V.setAttribute("download",`Owner.${g}`),V.click()})}).catch(()=>{e.value=!1})}return X(()=>{c()}),{loading:e,values:D,headers:E,addDialog:w,editDialog:o,form:T,state:v,v$:j,editingItem:t,confirmDeleteDialog:x,csvExport:J,loadValues:c,activateAddDialog:z,activateEditDialog:N,create:U,saveEdit:q,remove:P}}},te={class:"d-flex align-center flex-wrap"},le={class:"d-flex align-center flex-wrap"},ae={class:"d-flex align-center"},oe={class:"d-flex justify-end justify-space-between"},ne={class:"d-flex justify-space-between mb-6"};function ie(d,e,D,t,E,w){return Y(),R(_,{fluid:""},{default:a(()=>[l(p,{modelValue:t.addDialog,"onUpdate:modelValue":e[3]||(e[3]=o=>t.addDialog=o),transition:"dialog-top-transition",width:"400"},{default:a(()=>[l(k,{class:"rounded-xl pa-4",elevation:"10"},{default:a(()=>[l(y,{class:"rounded-lg flex-wrap px-4",color:"primary",flat:""},{default:a(()=>[u("div",te,[l(m,{class:"mr-2 text-white"},{default:a(()=>e[14]||(e[14]=[i("mdi-account")])),_:1}),e[15]||(e[15]=u("span",{class:"text-white font-weight-bold text-h6"},"Add Owner",-1))]),l(b),l(r,{color:"white",icon:"mdi-close",onClick:e[0]||(e[0]=o=>t.addDialog=!1)})]),_:1}),l(C,{class:"pt-6"},{default:a(()=>[l(S,{onSubmit:e[2]||(e[2]=F(()=>{},["prevent"]))},{default:a(()=>[l(I,{dense:""},{default:a(()=>[l(O,{cols:"12"},{default:a(()=>[l(B,{modelValue:t.state.name,"onUpdate:modelValue":e[1]||(e[1]=o=>t.state.name=o),"bg-color":"#BDBDBD","error-messages":t.v$.name.$errors.map(o=>o.$message),label:"Owner",required:"",onBlur:t.v$.name.$touch,onInput:t.v$.name.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1})]),_:1})]),_:1})]),_:1}),l(A,{class:"d-flex justify-end"},{default:a(()=>[l(r,{class:"text-white",color:"success",disabled:t.v$.$error,loading:t.loading,size:"large",type:"submit",variant:"elevated",onClick:t.create},{default:a(()=>[l(m,{start:""},{default:a(()=>e[16]||(e[16]=[i("mdi-content-save")])),_:1}),e[17]||(e[17]=i(" Add "))]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(p,{modelValue:t.editDialog,"onUpdate:modelValue":e[10]||(e[10]=o=>t.editDialog=o),transition:"dialog-top-transition",width:"auto"},{default:a(()=>[l(k,{class:"rounded-xl pa-4",elevation:"10"},{default:a(()=>[l(y,{class:"rounded-lg flex-wrap px-4",color:"primary",flat:""},{default:a(()=>[u("div",le,[l(m,{class:"mr-2 text-white"},{default:a(()=>e[18]||(e[18]=[i("mdi-account")])),_:1}),e[19]||(e[19]=u("span",{class:"text-white font-weight-bold text-h6"},"Edit Owner",-1))]),l(b),l(r,{color:"white",icon:"mdi-close",onClick:e[4]||(e[4]=o=>t.editDialog=!1)})]),_:1}),l(C,{class:"pt-6"},{default:a(()=>[l(S,{onSubmit:e[7]||(e[7]=F(()=>{},["prevent"]))},{default:a(()=>[e[20]||(e[20]=u("br",null,null,-1)),l(I,{dense:""},{default:a(()=>[l(O,{cols:"12"},{default:a(()=>[l(B,{modelValue:t.editingItem.id,"onUpdate:modelValue":e[5]||(e[5]=o=>t.editingItem.id=o),"bg-color":"#BDBDBD",label:"ID",readonly:""},null,8,["modelValue"])]),_:1}),l(O,{cols:"12"},{default:a(()=>[l(B,{modelValue:t.state.name,"onUpdate:modelValue":e[6]||(e[6]=o=>t.state.name=o),"bg-color":"#BDBDBD",clearable:"","error-messages":t.v$.name.$errors.map(o=>o.$message),label:"Owner",readonly:t.loading,required:"",onBlur:t.v$.name.$touch,onInput:t.v$.name.$touch},null,8,["modelValue","error-messages","readonly","onBlur","onInput"])]),_:1})]),_:1})]),_:1})]),_:1}),l(A,{class:"d-flex justify-end justify-space-between"},{default:a(()=>[l(r,{color:"success",disabled:t.v$.$error,loading:t.loading,size:"large",type:"submit",variant:"elevated",onClick:t.saveEdit},{default:a(()=>[l(m,{start:""},{default:a(()=>e[21]||(e[21]=[i("mdi-plus")])),_:1}),e[22]||(e[22]=i(" Save "))]),_:1},8,["disabled","loading","onClick"]),l(r,{color:"black",disabled:t.v$.$error,loading:t.loading,size:"large",type:"submit",variant:"elevated",onClick:e[8]||(e[8]=o=>t.editDialog=!1)},{default:a(()=>[l(m,{start:""},{default:a(()=>e[23]||(e[23]=[i("mdi-cancel")])),_:1}),e[24]||(e[24]=i(" Cancel "))]),_:1},8,["disabled","loading"]),l(r,{color:"error",disabled:t.v$.$error,loading:t.loading,size:"large",type:"submit",variant:"elevated",onClick:e[9]||(e[9]=o=>t.confirmDeleteDialog=!0)},{default:a(()=>[l(m,{start:""},{default:a(()=>e[25]||(e[25]=[i("mdi-delete")])),_:1}),e[26]||(e[26]=i(" Delete "))]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(p,{modelValue:t.confirmDeleteDialog,"onUpdate:modelValue":e[13]||(e[13]=o=>t.confirmDeleteDialog=o),persistent:"",width:"auto"},{default:a(()=>[l(k,{class:"rounded-xl pa-4",elevation:"10"},{default:a(()=>[l(y,{class:"rounded-lg flex-wrap",color:"warning",flat:""},{default:a(()=>[l(G,{class:"text-white font-weight-bold text-wrap"},{default:a(()=>[u("div",ae,[l(m,{class:"mr-2"},{default:a(()=>e[27]||(e[27]=[i("mdi-delete")])),_:1}),u("span",null,"'Confirm Deleteting ' "+M(t.state.name),1)])]),_:1}),l(b),l(r,{color:"white",icon:"mdi-close",onClick:e[11]||(e[11]=o=>t.confirmDeleteDialog=!1)})]),_:1}),l(C,null,{default:a(()=>[i("Are you sure you want to delete "+M(t.state.name)+"?",1)]),_:1}),u("div",oe,[l(r,{color:"success",onClick:e[12]||(e[12]=o=>t.confirmDeleteDialog=!1)},{default:a(()=>e[28]||(e[28]=[i("Cancel")])),_:1}),l(r,{color:"error",onClick:t.remove},{default:a(()=>e[29]||(e[29]=[i("Proceed")])),_:1},8,["onClick"])])]),_:1})]),_:1},8,["modelValue"]),u("div",ne,[e[34]||(e[34]=i(" Owners ")),l(r,{class:"text-black justify-end",size:"small",onClick:t.csvExport},{default:a(()=>[l(m,{color:"green",start:""},{default:a(()=>e[30]||(e[30]=[i("mdi-download")])),_:1}),e[31]||(e[31]=i(" Download "))]),_:1},8,["onClick"]),l(r,{class:"text-white justify-end",color:"#1A237E",size:"small",onClick:t.activateAddDialog},{default:a(()=>[l(m,null,{default:a(()=>e[32]||(e[32]=[i("mdi-plus")])),_:1}),e[33]||(e[33]=i(" Add New"))]),_:1},8,["onClick"])]),l(H,{active:t.loading,indeterminate:t.loading},null,8,["active","indeterminate"]),l($,{class:"elevation-1",dense:"",headers:t.headers,height:"300",items:t.values,loading:t.loading},{"item.edit":a(({item:o})=>[l(m,{color:"#3F51B5",onClick:x=>t.activateEditDialog(o)},{default:a(()=>e[35]||(e[35]=[i("mdi-square-edit-outline")])),_:2},1032,["onClick"])]),_:1},8,["headers","items","loading"])]),_:1})}const be=Q(ee,[["render",ie]]);export{be as default};
