import{_ as k,t as ke,r as v,s as O,v as $,x as r,j as o,z as U,J as F,L as Ne,F as ce,G as Ce,H as We,M as Me,N as He,D as B,am as Ye,P as xe,a_ as Ge,a$ as Je,aa as le,aP as q,b0 as Ke,f as D,b1 as qe,e as A,w as we,q as Z,o as Qe,a8 as Ze,b2 as Xe,T as S,g as De,p as Be,i as Ee,b3 as ie,O as ue,b4 as et,b5 as tt,u as at,ab as ot,aH as _e,b6 as nt,b7 as rt,aD as st,b8 as lt,n as Te,Q as J,I as it,S as ut,a2 as ct,b9 as ye,ai as je}from"./index-BWC57mqE.js";import{V as X,b as de,e as ee,c as Re}from"./VCard-BI_548n6.js";import{V as dt}from"./VChip-CEVDHffS.js";import{V as pe}from"./VContainer-CSFeTSsk.js";import{i as pt,t as mt,u as te,a as ae,b as me,c as fe,d as ve,e as oe,f as ne,g as be,h as ge,j as he,S as ft}from"./StatusByCoverage-BV7_GG3u.js";import{a as $e,c as vt}from"./VTextField-BUBZtWvQ.js";import{Q as Pe}from"./vue-datepicker-C-oP6zBP.js";import{V as C}from"./VCol-DWZn5MAN.js";import{V as Ve}from"./VAutocomplete-DzvWemcH.js";import{V as bt,a as Oe,b as gt,c as Ie}from"./VTabs-CfMCTLo2.js";import"./VSlideGroup-DR6QWFvL.js";import"./VSelect-B3SmRlp7.js";const ht={class:"text-h6 white--text"},_t={__name:"Reports",setup(a){const t=ke(),n=v([{id:1,title:"Projects Overview",description:"Overview of all projects",category:"Projects",icon:"mdi-clipboard-list",route:"ProjectsOverview"},{id:1,title:"Interventions By Components",description:"An indicative list of recent and ongoing interventions under components",category:"Interventions",icon:"mdi-clipboard-list",route:"ComponentsInterventions"}]);function e(c){t.push(c.route)}function f(c){return{Projects:"blue",Interventions:"green",HR:"orange",Management:"purple"}[c]||"grey"}return(c,u)=>($(),O(pe,{class:"pa-4 report-container",fluid:""},{default:r(()=>[o(X,{class:"h-100",elevation:"2"},{default:r(()=>[o(de,{class:"d-flex justify-space-between align-center bg-primary"},{default:r(()=>[U("span",ht,F(c.$t("availableReports")),1)]),_:1}),o(ee,{class:"pa-0"},{default:r(()=>[o(Ne,{class:"report-list",density:"comfortable"},{default:r(()=>[($(!0),ce(Ce,null,We(n.value,i=>($(),O(Me,{key:i.id,value:i,onClick:s=>e(i)},{prepend:r(()=>[o(xe,{icon:i.icon},null,8,["icon"])]),append:r(()=>[o(dt,{color:f(i.category),size:"small",variant:"flat"},{default:r(()=>[B(F(c.$t(i.category)),1)]),_:2},1032,["color"])]),default:r(()=>[o(He,{class:"font-weight-medium"},{default:r(()=>[B(F(i.title),1)]),_:2},1024),o(Ye,null,{default:r(()=>[B(F(i.description),1)]),_:2},1024)]),_:2},1032,["value","onClick"]))),128))]),_:1})]),_:1})]),_:1})]),_:1}))}},Ae=k(_t,[["__scopeId","data-v-981a0128"]]),yt=Object.freeze(Object.defineProperty({__proto__:null,default:Ae},Symbol.toStringTag,{value:"Module"})),jt=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];function $t(a){function t(e){return(...f)=>{if(!a.value)throw new Error("ECharts is not initialized yet.");return a.value[e].apply(a.value,f)}}function n(){const e=Object.create(null);return jt.forEach(f=>{e[f]=t(f)}),e}return n()}function Pt(a,t,n){A([n,a,t],([e,f,c],u,i)=>{let s=null;if(e&&f&&c){const{offsetWidth:p,offsetHeight:d}=e,l=c===!0?{}:c,{throttle:P=100,onResize:I}=l;let x=!1;const _=()=>{f.resize(),I==null||I()},w=P?mt(_,P):_;s=new ResizeObserver(()=>{!x&&(x=!0,e.offsetWidth===p&&e.offsetHeight===d)||w()}),s.observe(e)}i(()=>{s&&(s.disconnect(),s=null)})})}const Vt={autoresize:[Boolean,Object]},Ot=/^on[^a-z]/,Le=a=>Ot.test(a);function It(a){const t={};for(const n in a)Le(n)||(t[n]=a[n]);return t}function Q(a,t){const n=Xe(a)?S(a):a;return n&&typeof n=="object"&&"value"in n?n.value||t:n||t}const St="ecLoadingOptions";function Ct(a,t,n){const e=q(St,{}),f=D(()=>({...Q(e,{}),...n==null?void 0:n.value}));we(()=>{const c=a.value;c&&(t.value?c.showLoading(f.value):c.hideLoading())})}const xt={loading:Boolean,loadingOptions:Object};let K=null;const Fe="x-vue-echarts";function wt(){if(K!=null)return K;if(typeof HTMLElement>"u"||typeof customElements>"u")return K=!1;try{new Function("tag","class EChartsElement extends HTMLElement{__dispose=null;disconnectedCallback(){this.__dispose&&(this.__dispose(),this.__dispose=null)}}customElements.get(tag)==null&&customElements.define(tag,EChartsElement);")(Fe)}catch{return K=!1}return K=!0}document.head.appendChild(document.createElement("style")).textContent=`x-vue-echarts{display:block;width:100%;height:100%;min-width:0}
`;const Dt=wt(),Bt="ecTheme",Et="ecInitOptions",Tt="ecUpdateOptions",Se=/(^&?~?!?)native:/;var z=Ge({name:"echarts",props:{option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean,...Vt,...xt},emits:{},inheritAttrs:!1,setup(a,{attrs:t}){const n=le(),e=le(),f=le(),c=q(Bt,null),u=q(Et,null),i=q(Tt,null),{autoresize:s,manualUpdate:p,loading:d,loadingOptions:l}=Ke(a),P=D(()=>f.value||a.option||null),I=D(()=>a.theme||Q(c,{})),x=D(()=>a.initOptions||Q(u,{})),_=D(()=>a.updateOptions||Q(i,{})),w=D(()=>It(t)),T={},E=qe().proxy.$listeners,N={};E?Object.keys(E).forEach(h=>{Se.test(h)?T[h.replace(Se,"$1")]=E[h]:N[h]=E[h]}):Object.keys(t).filter(h=>Le(h)).forEach(h=>{let g=h.charAt(2).toLowerCase()+h.slice(3);if(g.indexOf("native:")===0){const L=`on${g.charAt(7).toUpperCase()}${g.slice(8)}`;T[L]=t[h];return}g.substring(g.length-4)==="Once"&&(g=`~${g.substring(0,g.length-4)}`),N[g]=t[h]});function W(h){if(!n.value)return;const g=e.value=pt(n.value,I.value,x.value);a.group&&(g.group=a.group),Object.keys(N).forEach(m=>{let y=N[m];if(!y)return;let j=m.toLowerCase();j.charAt(0)==="~"&&(j=j.substring(1),y.__once__=!0);let V=g;if(j.indexOf("zr:")===0&&(V=g.getZr(),j=j.substring(3)),y.__once__){delete y.__once__;const R=y;y=(...G)=>{R(...G),V.off(j,y)}}V.on(j,y)});function L(){g&&!g.isDisposed()&&g.resize()}function b(){const m=h||P.value;m&&g.setOption(m,_.value)}s.value?Ze(()=>{L(),b()}):b()}function re(h,g){a.manualUpdate&&(f.value=h),e.value?e.value.setOption(h,g||{}):W(h)}function Y(){e.value&&(e.value.dispose(),e.value=void 0)}let M=null;A(p,h=>{typeof M=="function"&&(M(),M=null),h||(M=A(()=>a.option,(g,L)=>{g&&(e.value?e.value.setOption(g,{notMerge:g!==L,..._.value}):W())},{deep:!0}))},{immediate:!0}),A([I,x],()=>{Y(),W()},{deep:!0}),we(()=>{a.group&&e.value&&(e.value.group=a.group)});const se=$t(e);return Ct(e,d,l),Pt(e,s,n),Z(()=>{W()}),Qe(()=>{Dt&&n.value?n.value.__dispose=Y:Y()}),{chart:e,root:n,setOption:re,nonEventAttrs:w,nativeListeners:T,...se}},render(){const a={...this.nonEventAttrs,...this.nativeListeners};return a.ref="root",a.class=a.class?["echarts"].concat(a.class):"echarts",Je(Fe,a)}});const Rt=Be({...et({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),H=De()({name:"VRadio",props:Rt(),setup(a,t){let{slots:n}=t;return Ee(()=>{const e=ie.filterProps(a);return o(ie,ue(e,{class:["v-radio",a.class],style:a.style,type:"radio"}),n)}),{}}}),At=Be({height:{type:[Number,String],default:"auto"},...vt(),...nt(rt(),["multiple"]),trueIcon:{type:_e,default:"$radioOn"},falseIcon:{type:_e,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),Ue=De()({name:"VRadioGroup",inheritAttrs:!1,props:At(),emits:{"update:modelValue":a=>!0},setup(a,t){let{attrs:n,slots:e}=t;const f=tt(),c=D(()=>a.id||`radio-group-${f}`),u=at(a,"modelValue");return Ee(()=>{const[i,s]=ot(n),p=$e.filterProps(a),d=ie.filterProps(a),l=e.label?e.label({label:a.label,props:{for:c.value}}):a.label;return o($e,ue({class:["v-radio-group",a.class],style:a.style},i,p,{modelValue:u.value,"onUpdate:modelValue":P=>u.value=P,id:c.value}),{...e,default:P=>{let{id:I,messagesId:x,isDisabled:_,isReadonly:w}=P;return o(Ce,null,[l&&o(st,{id:I.value},{default:()=>[l]}),o(lt,ue(d,{id:I.value,"aria-describedby":x.value,defaultsTarget:"VRadio",trueIcon:a.trueIcon,falseIcon:a.falseIcon,type:a.type,disabled:_.value,readonly:w.value,"aria-labelledby":l?I.value:void 0,multiple:!1},s,{modelValue:u.value,"onUpdate:modelValue":T=>u.value=T}),e)])}})}),{}}}),Lt={class:"mt-4"},Ft={__name:"InveestmentsByArea",props:{status:{type:Object},start:{type:String},end:{type:String},reload:{type:Number},coverage:{type:Object,default:()=>({})}},setup(a){te([ae,me,fe,ve,oe,ne,be,ge,he]);const t=a;A(()=>[t.reload],()=>{u()},{deep:!0});const n=v(!1),e=v("bar"),f=v([]),c=v({}),u=async()=>{var p;n.value=!0;try{let d="/project/getInvestmentsByArea";d+=`?start=${t.start}&end=${t.end}&status=${((p=t.status)==null?void 0:p.id)||""}&coverage=${JSON.stringify(t.coverage)}`;const P=await(await fetch(d)).json();f.value=P,i()}catch(d){console.error("Error fetching chart data:",d)}finally{n.value=!1}},i=()=>{const p=f.value.map(l=>({name:l.area_short_name,value:l.total_investments,project_count:l.project_count})),d=e.value==="pie"?[{name:"Investment by Flagship Program",type:"pie",radius:["40%","70%"],label:{formatter:"{b}: {d}%"},data:p}]:e.value==="treemap"?[{name:"Investment by Flagship Program",type:"treemap",data:p,breadcrumb:{show:!1}}]:[{name:"Investment by Flagship Program",type:"bar",data:p,label:{show:!0,position:"top",formatter:l=>s(l.value)},itemStyle:{borderRadius:[4,4,0,0]}}];c.value={tooltip:{trigger:"item",formatter:l=>`
        <strong>${l.name}</strong><br/>
        Total Investments: ${s(l.value)}<br/>
        Projects: ${l.data.project_count}
      `},xAxis:e.value==="bar"?{type:"category",data:p.map(l=>l.name)}:void 0,yAxis:e.value==="bar"?{type:"value",axisLabel:{formatter:l=>s(l)}}:void 0,series:d}},s=p=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",minimumFractionDigits:0,maximumFractionDigits:0}).format(p||0);return Z(u),A(e,i),(p,d)=>($(),O(X,null,{default:r(()=>[o(de,null,{default:r(()=>d[1]||(d[1]=[B("Investment Distribution by Flagship Program")])),_:1}),o(Re,null,{default:r(()=>d[2]||(d[2]=[B("Total investment allocated per Flagship Program")])),_:1}),o(ee,null,{default:r(()=>[U("div",Lt,[o(Ue,{modelValue:e.value,"onUpdate:modelValue":d[0]||(d[0]=l=>e.value=l),inline:""},{default:r(()=>[o(H,{label:"Bar Chart",value:"bar"}),o(H,{label:"Pie Chart",value:"pie"}),o(H,{label:"Treemap",value:"treemap"})]),_:1},8,["modelValue"])]),o(S(z),{autoresize:"",option:c.value,style:{height:"500px",width:"100%"}},null,8,["option"])]),_:1})]),_:1}))}},Ut=k(Ft,[["__scopeId","data-v-74064a51"]]),zt={class:"mt-4"},kt={__name:"InveestmentsBySector",props:{status:{type:Object},start:{type:String},end:{type:String},reload:{type:Number},coverage:{type:Object,default:()=>({})}},setup(a){te([ae,me,fe,ve,oe,ne,be,ge,he]);const t=a;A(()=>[t.reload],()=>{u()},{deep:!0});const n=v(!1),e=v("bar"),f=v([]),c=v({}),u=async()=>{var p;n.value=!0;try{let d="/project/getInvestmentBySector";d+=`?start=${t.start}&end=${t.end}&status=${((p=t.status)==null?void 0:p.id)||""}&coverage=${JSON.stringify(t.coverage)}`;const P=await(await fetch(d)).json();f.value=P,i()}catch(d){console.error("Error fetching chart data:",d)}finally{n.value=!1}},i=()=>{const p=f.value.map(l=>({name:l.sector_name,value:l.total_investments,project_count:l.project_count})),d=e.value==="pie"?[{name:"Investment by Sector",type:"pie",radius:["40%","70%"],label:{formatter:"{b}: {d}%"},data:p}]:e.value==="treemap"?[{name:"Investment by Sector",type:"treemap",data:p,breadcrumb:{show:!1}}]:[{name:"Investment by Sector",type:"bar",data:p,label:{show:!0,position:"top",formatter:l=>s(l.value)},itemStyle:{borderRadius:[4,4,0,0]}}];c.value={tooltip:{trigger:"item",formatter:l=>`
        <strong>${l.name}</strong><br/>
        Total Investments: ${s(l.value)}<br/>
        Projects: ${l.data.project_count}
      `},xAxis:e.value==="bar"?{type:"category",data:p.map(l=>l.name)}:void 0,yAxis:e.value==="bar"?{type:"value",axisLabel:{formatter:l=>s(l)}}:void 0,series:d}},s=p=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",minimumFractionDigits:0,maximumFractionDigits:0}).format(p||0);return Z(u),A(e,i),(p,d)=>($(),O(X,null,{default:r(()=>[o(de,null,{default:r(()=>d[1]||(d[1]=[B("Investment Distribution by Sector")])),_:1}),o(Re,null,{default:r(()=>d[2]||(d[2]=[B("Total investment allocated per sector")])),_:1}),o(ee,null,{default:r(()=>[U("div",zt,[o(Ue,{modelValue:e.value,"onUpdate:modelValue":d[0]||(d[0]=l=>e.value=l),inline:""},{default:r(()=>[o(H,{label:"Bar Chart",value:"bar"}),o(H,{label:"Pie Chart",value:"pie"}),o(H,{label:"Treemap",value:"treemap"})]),_:1},8,["modelValue"])]),o(S(z),{autoresize:"",option:c.value,style:{height:"500px",width:"100%"}},null,8,["option"])]),_:1})]),_:1}))}},Nt=k(kt,[["__scopeId","data-v-2375f769"]]),Wt={class:"partners-container"},Mt={class:"chart-wrapper"},Ht={__name:"DPByProject",props:{devPartners:{type:Array,required:!0,default:()=>[]}},setup(a){const{t}=Te();te([ae,ve,oe,ne,he]);const n=a;v(!0);const e=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",minimumFractionDigits:0,maximumFractionDigits:0}).format(u||0),f=D(()=>Math.max(...n.devPartners.map(u=>u.total_investment||0),1e5)),c=D(()=>({title:{text:t("devPartnersInvestment"),left:"center",textStyle:{fontSize:16,fontWeight:"bold"}},tooltip:{formatter(u){const i=u.data;return`
        <strong>${u.name}</strong><br/>
        ${t("investment")}: ${e(u.value)}<br/>
        ${t("projects")}: ${i.project_count||0}
      `}},series:[{name:t("developmentPartners"),type:"treemap",data:n.devPartners.map(u=>({name:u.abbreviation,value:u.total_investment||0,project_count:u.project_count||0})),label:{show:!0,formatter:"{b}"},itemStyle:{borderColor:"#fff",borderWidth:1},breadcrumb:{show:!1}}],visualMap:{type:"continuous",min:0,max:f.value,inRange:{color:["#fac858","#91cc75","#5470c6"]},textStyle:{color:"#666"}}}));return(u,i)=>($(),ce("div",Wt,[U("div",Mt,[o(S(z),{autoresize:"",class:"treemap-chart",option:c.value},null,8,["option"])])]))}},Yt=k(Ht,[["__scopeId","data-v-54573f6d"]]),Gt={class:"budget-chart-container"},Jt={class:"chart-area"},Kt={class:"chart-wrapper"},qt={class:"chart-wrapper"},Qt={__name:"BudgetByProject",props:{projects:{type:Array,required:!0,default:()=>[]}},setup(a){const{t}=Te();te([ae,me,fe,oe,ne,be,ge]);const n=a,e=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",minimumFractionDigits:0,maximumFractionDigits:0}).format(u||0),f=D(()=>{const u=[...n.projects].sort((i,s)=>s.total_budget-i.total_budget).slice(0,20);return{title:{text:t("topProjectsByBudget"),left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:i=>{const s=u[i[0].dataIndex];return`
            <strong>${s.project_name}</strong><br/>
            ${t("budget")}: ${e(s.total_budget)}<br/>
            ${t("status")}: ${s.project_status}<br/>
            ${t("dates")}: ${s.start} ${t("to")} ${s.end}<br/>
            ${t("devPartners")}: ${s.dev_partners||t("none")}<br/>
            ${t("mdas")}: ${s.mdas||t("none")}
          `}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value",name:t("budget"),axisLabel:{formatter:i=>e(i)}},yAxis:{type:"category",data:u.map(i=>i.total_budget),axisLabel:{interval:0,rotate:30}},series:[{name:t("budget"),type:"bar",data:u.map(i=>i.total_budget),itemStyle:{color:i=>{const s=i.value;return s>1e6?"#5470c6":s>5e5?"#91cc75":"#fac858"}},label:{show:!0,position:"right",formatter:i=>e(i.value)}}]}}),c=D(()=>{const u={};n.projects.forEach(s=>{const p=s.project_status||t("unknown");u[p]=(u[p]||0)+(s.total_budget||0)});const i=Object.entries(u).map(([s,p])=>({name:s,value:p}));return{title:{text:t("budgetDistributionByStatus"),left:"center"},tooltip:{trigger:"item",formatter:s=>`
            <strong>${s.name}</strong><br/>
            ${t("totalBudget")}: ${e(s.value)}<br/>
            ${t("percentage")}: ${s.percent}%
          `},legend:{orient:"vertical",left:"left",top:"center"},series:[{name:t("budgetByStatus"),type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!0,formatter:"{b}: {d}%"},emphasis:{label:{show:!0,fontSize:"18",fontWeight:"bold"}},labelLine:{show:!0},data:i}]}});return(u,i)=>($(),ce("div",Gt,[U("div",Jt,[U("div",Kt,[o(S(z),{autoresize:"",class:"chart",option:f.value},null,8,["option"])]),U("div",qt,[o(S(z),{autoresize:"",class:"chart",option:c.value},null,8,["option"])])])]))}},Zt=k(Qt,[["__scopeId","data-v-adf5a098"]]),Xt={__name:"Dashboard",setup(a){const t=v(""),n=v(""),e=v(""),f=v([]),c=v(""),u=v([]),i=v([]),s=v([]),p=v(!1),d=v(!1),l=v(!1),P=v({}),I=v({}),x=v([]),_=v(""),w=v(""),T=v(""),E=v(0);function N(){_.value="",t.value&&(_.value+="?start="+t.value),n.value&&(_.value?_.value+="&end="+n.value:_.value+="?end="+n.value),e.value&&(_.value?_.value+="&coverage="+JSON.stringify(e.value):_.value+="?coverage="+JSON.stringify(e.value)),c.value&&(_.value?_.value+="&project_status="+JSON.stringify(c.value.id):_.value+="?project_status="+JSON.stringify(c.value.id))}const W=b=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",minimumFractionDigits:0,maximumFractionDigits:0}).format(b||0);function re(){fetch("/project/getBeneficiaries"+_.value).then(b=>{b.json().then(m=>{p.value=!1;let y=0,j=0;m.length&&(y=m[0].project_count,j=W(m[0].total_budget)+" Invest");const V=[];for(const R of m){const G=R.youth+R.female+R.others;V.push({value:(R.youth/G*100).toFixed(1),name:"Youth"},{value:(R.female/G*100).toFixed(1),name:"Female"},{value:(R.others/G*100).toFixed(1),name:"Others"})}P.value={title:{trigger:"item",text:"Beneficiary Overview",left:"center"},label:{formatter:`{a|{a}}{abg|}
{hr|}
  {b|{b}ï¼š}{c}  {per|{d}%}  `,backgroundColor:"#F6F8FC",borderColor:"#8C8D8E",borderWidth:1,borderRadius:4,rich:{a:{color:"#6E7079",lineHeight:22,align:"center"},hr:{borderColor:"#8C8D8E",width:"100%",borderWidth:1,height:0},b:{color:"#4C5058",fontSize:14,fontWeight:"bold",lineHeight:33},per:{color:"#fff",backgroundColor:"#4C5058",padding:[3,4],borderRadius:4}}},graphic:[{type:"text",left:"center",top:"45%",style:{text:`${y} Projects
${j}`,textAlign:"center",fill:"#333",fontSize:18,fontWeight:"bold"}}],series:[{type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{show:!0},emphasis:{label:{show:!0,fontSize:"18",fontWeight:"bold"}},data:V}]}}).catch(()=>{p.value=!1})}).catch(()=>{p.value=!1})}function Y(){fetch("/project/getProjectsByComponent"+_.value).then(b=>{b.json().then(m=>{s.value=!1,I.value={title:{text:"Projects by Flagship Programme Sub-Component(s)",left:"center",textStyle:{fontSize:18,fontWeight:"bold"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter(y){const j=m[y[0].dataIndex];return`
                    <div class="echart-tooltip">
                      <h4>${j.sub_component_name}</h4>
                      <p><b>Projects:</b> ${j.project_count}</p>
                      <p><b>Youth Reached:</b> ${j.total_youth_reached||0}</p>
                      <p><b>Female Reached:</b> ${j.total_female_reached||0}</p>
                      <p><b>Others:</b> ${j.others_reached||0}</p>
                    </div>
                  `}},grid:{left:"3%",right:"4%",bottom:"10%",top:"15%",containLabel:!0},xAxis:{type:"category",data:m.map(y=>y.sub_component_name),axisLabel:{rotate:45,interval:0,fontSize:12},axisTick:{alignWithLabel:!0}},yAxis:{type:"value",name:"Number of Projects",nameLocation:"middle",nameGap:30,nameTextStyle:{fontSize:14,fontWeight:"bold"}},series:[{name:"Projects",type:"bar",barWidth:"60%",data:m.map(y=>y.project_count),itemStyle:{color:"#4e79a7"},label:{show:!0,position:"top",formatter:"{c}"}}],dataZoom:[{type:"inside",start:0,end:100},{start:0,end:100}]}}).catch(()=>{s.value=!1})}).catch(()=>{s.value=!1})}function M(){l.value=!0,fetch("/project/getDPByProject"+_.value).then(b=>{b.json().then(m=>{l.value=!1,i.value=m}).catch(()=>{l.value=!1})}).catch(()=>{l.value=!1})}function se(){fetch("/project/getBudgetByProject"+_.value).then(b=>{b.json().then(m=>{x.value=m}).catch(()=>{l.value=!1})}).catch(()=>{l.value=!1})}function h(){E.value++,N(),Y(),re(),M(),se()}function g(){d.value=!0,fetch("/project/getPossibleCoverage").then(b=>{b.json().then(m=>{d.value=!1,f.value=m}).catch(()=>{d.value=!1})}).catch(()=>{d.value=!1})}function L(){fetch("/project/getProjectStatus").then(b=>{b.json().then(m=>{u.value=m,h()})})}return Z(()=>{T.value++,w.value++,L(),g(),h()}),(b,m)=>{const y=Nt,j=Ut;return $(),O(pe,{fluid:""},{default:r(()=>[o(J,{class:"mb-6",dense:""},{default:r(()=>[o(C,{cols:"2"},{default:r(()=>[o(S(Pe),{modelValue:t.value,"onUpdate:modelValue":m[0]||(m[0]=V=>t.value=V),placeholder:b.$t("startYear"),"text-input":"","year-picker":"","year-range":[b.$store.state.startYear,b.$store.state.endYear]},null,8,["modelValue","placeholder","year-range"])]),_:1}),o(C,{cols:"2"},{default:r(()=>[o(S(Pe),{modelValue:n.value,"onUpdate:modelValue":m[1]||(m[1]=V=>n.value=V),placeholder:b.$t("endYear"),"text-input":"","year-picker":"","year-range":[b.$store.state.startYear,b.$store.state.endYear]},null,8,["modelValue","placeholder","year-range"])]),_:1}),o(C,{cols:"2"},{default:r(()=>[o(Ve,{modelValue:e.value,"onUpdate:modelValue":m[2]||(m[2]=V=>e.value=V),clearable:"",density:"compact","item-title":"name","item-value":"id",items:f.value,label:b.$t("coverage"),"return-object":""},null,8,["modelValue","items","label"])]),_:1}),o(C,{cols:"2"},{default:r(()=>[o(Ve,{modelValue:c.value,"onUpdate:modelValue":m[3]||(m[3]=V=>c.value=V),clearable:"",density:"compact","item-title":"name","item-value":"id",items:u.value,label:b.$t("status"),"return-object":""},null,8,["modelValue","items","label"])]),_:1}),o(C,null,{default:r(()=>[o(it,{color:"success",onClick:m[4]||(m[4]=V=>h())},{default:r(()=>[o(xe,{start:""},{default:r(()=>m[5]||(m[5]=[B("mdi-refresh")])),_:1}),B(" "+F(b.$t("load")),1)]),_:1})]),_:1})]),_:1}),o(J,null,{default:r(()=>[o(C,{cols:"6"},{default:r(()=>[($(),O(S(ft),{key:"tel"+w.value,end:n.value,reload:E.value,start:t.value,status:c.value},null,8,["end","reload","start","status"]))]),_:1}),o(C,{cols:"6"},{default:r(()=>[o(S(Yt),{"dev-partners":i.value},null,8,["dev-partners"])]),_:1})]),_:1}),o(J,null,{default:r(()=>[o(C,{cols:"6"},{default:r(()=>[($(),O(S(z),{key:w.value,class:"chart2",option:P.value},null,8,["option"])),($(),O(S(z),{key:T.value,autoresize:"",class:"chart1",option:I.value},null,8,["option"]))]),_:1}),o(ut,{vertical:""}),o(C,{cols:"6"},{default:r(()=>[o(J,null,{default:r(()=>[o(C,{cols:"12"},{default:r(()=>[x.value.length?($(),O(S(Zt),{key:0,projects:x.value},null,8,["projects"])):ct("",!0)]),_:1})]),_:1})]),_:1}),o(J,null,{default:r(()=>[o(C,{cols:"6"},{default:r(()=>[($(),O(y,{key:"sectorinv"+w.value,coverage:e.value,end:n.value,reload:E.value,start:t.value,status:c.value},null,8,["coverage","end","reload","start","status"]))]),_:1}),o(C,{cols:"6"},{default:r(()=>[($(),O(j,{key:"areainv"+w.value,coverage:e.value,end:n.value,reload:E.value,start:t.value,status:c.value},null,8,["coverage","end","reload","start","status"]))]),_:1})]),_:1})]),_:1})]),_:1})}}},ze=k(Xt,[["__scopeId","data-v-e07dd1b5"]]),ea=Object.freeze(Object.defineProperty({__proto__:null,default:ze},Symbol.toStringTag,{value:"Module"})),ta={setup(){return{tab:v(null)}},components:{Dashboard:ye(()=>je(()=>Promise.resolve().then(()=>ea),void 0)),Reports:ye(()=>je(()=>Promise.resolve().then(()=>yt),void 0))}};function aa(a,t,n,e,f,c){const u=ze,i=Ae;return $(),O(pe,{fluid:""},{default:r(()=>[o(X,{class:"rounded-lg","min-height":"100px"},{default:r(()=>[o(ee,null,{default:r(()=>[o(bt,{modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=s=>e.tab=s),"align-tabs":"start",color:"deep-purple-accent-4"},{default:r(()=>[o(Oe,{value:1},{default:r(()=>[B(F(a.$t("dashboard")),1)]),_:1}),o(Oe,{value:2},{default:r(()=>[B(F(a.$t("reports")),1)]),_:1})]),_:1},8,["modelValue"]),o(gt,{modelValue:e.tab,"onUpdate:modelValue":t[1]||(t[1]=s=>e.tab=s)},{default:r(()=>[($(),O(Ie,{key:1,height:"100px",value:1},{default:r(()=>[o(u)]),_:1})),($(),O(Ie,{key:2,value:2},{default:r(()=>[o(i)]),_:1}))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})}const va=k(ta,[["render",aa]]);export{va as default};
