import{_ as Se,r as g,a5 as _e,q as Ne,s as $,x as o,Y as Ie,Z as xe,v as d,j as s,a2 as D,$ as Y,a0 as ae,z as N,P as k,D as u,J as m,E as le,I as B,Q as j,T as i,F as f,a3 as H,G as C,H as S,a6 as Oe,K as Je,L as ze,M as Ae,N as Ee,O as je}from"./index-BWC57mqE.js";import{c as G,r as _,u as Ue,e as Pe}from"./index-Di-IQXeH.js";import{u as Te}from"./projectHierarchy-DKVIpnYt.js";import{a as Me,I as Fe,G as qe}from"./ViewProject-C--Ga3OE.js";import{Q as Le}from"./vue-datepicker-C-oP6zBP.js";import{V as Ye}from"./VContainer-CSFeTSsk.js";import{V as z}from"./VDialog-C_uX5X1X.js";import{V as J,e as A,b as se,d as oe}from"./VCard-BI_548n6.js";import{V as He}from"./VForm-DLSdHKgA.js";import{V as b}from"./VCol-DWZn5MAN.js";import{V as U}from"./VAutocomplete-DzvWemcH.js";import{V as Q}from"./VChip-CEVDHffS.js";import{V as P}from"./VTextField-BUBZtWvQ.js";import{V as Ge}from"./VTextarea-At-duAgD.js";import{V as Qe}from"./VDataTable-BT5jeeYE.js";import"./VSelect-B3SmRlp7.js";import"./VAlert-BD9diJCp.js";import"./VExpansionPanels-P4Q4FEJy.js";import"./VTabs-CfMCTLo2.js";import"./VSlideGroup-DR6QWFvL.js";const Ke={class:"d-flex align-center"},Re={key:0,class:"error-messages"},Ze={key:1,class:"mt-4"},We={class:"text-subtitle-1 font-weight-medium mb-2"},Xe={key:0,class:"error-messages"},et={key:1,class:"mt-4"},tt={class:"text-subtitle-1 font-weight-medium mb-2"},at={class:"text-subtitle-2 font-weight-medium mb-1"},lt={key:0,class:"error-messages"},st={key:1,class:"mt-4"},ot={class:"text-subtitle-1 font-weight-medium mb-2"},nt={class:"d-flex justify-end justify-space-between"},it={key:0},rt={__name:"AgricultureEnterprise",setup(ut){const I=Ie(),p=g(!1),{getHierarchyAsync:ne,loadChildren:ie,hierarchies:K}=Te(),V=g(!1),R=g([]),Z=g([]),T=g([]),v=g({}),M=g(""),W=g([]),F=g([]),X=g([]),w=g([]),re=g([{name:"Small",id:"small"},{name:"Medium",id:"medium"},{name:"Large",id:"large"},{name:"Enterprises",id:"enterprises"}]),ue=g([{title:"ID",key:"id"},{title:"Name",key:"name"},{title:"Size",key:"size"},{title:"Key Activities",key:"activities"},{title:"Phone No",key:"phone"},{title:"Email",key:"email"},{title:"Sector",key:"sector"},{title:"Action",key:"action"}]),x=g({individual:!1,group:!1}),y=g({enabled:!1,type:""}),q=g(!1),O=g(!1),E=g(""),l=_e({name:"",size:"",activities:"",interventions:[],investments:{},tons:{},implementing_partners:[],subcomponents:[],subcomponentdetails:[],sector:"",value_chains:[],valuechaindetails:[],coverages:[],coveragedetails:[],phone:"",email:""}),de={name:{required:_},size:{required:_},interventions:{required:_},sector:{required:_},activities:{required:_},email:{email:Pe},value_chains:{required:G.withMessage("Please select at least one value chain",_)},subcomponents:{required:G.withMessage("Please select at least one sub-component",_)},coverages:{required:G.withMessage("Please select at least one coverage",_)}},r=Ue(de,l),L=()=>{V.value=!0,fetch("/agroenterprises/get").then(t=>t.json()).then(t=>{V.value=!1,R.value=t}).catch(()=>{V.value=!1})},ce=()=>{V.value=!0,fetch("/settings/getIntervention").then(t=>t.json()).then(t=>{V.value=!1,X.value=t}).catch(()=>{V.value=!1})},me=()=>{V.value=!0,fetch("/settings/getSector").then(t=>t.json()).then(t=>{V.value=!1,W.value=t}).catch(()=>{V.value=!1})};function ve(){p.value=!0,fetch("/settings/getValueChainHierarchy").then(t=>{t.json().then(e=>{p.value=!1,F.value=e}).catch(()=>{p.value=!1})}).catch(()=>{p.value=!1})}const ee=async t=>{let e="";if(t.id){const c=t.id.split("-")[1];e=`?parentType=${t.type}&parentId=${c}`}const a=await(await fetch(`/adminLevels/getAdminHierarchyAsync${e}`)).json();t.id?t.children=a:T.value=a};function pe(){p.value=!0,fetch("/project/getPossibleImplementingPartners").then(t=>{t.json().then(e=>{p.value=!1,Z.value=e}).catch(()=>{p.value=!1})}).catch(()=>{p.value=!1})}const fe=()=>{M.value="",E.value="";for(const t in v.value)t==="subcomponents"?(l.subcomponents=[],l.subcomponentdetails=[]):t==="value_chains"?(l.value_chains=[],l.valuechaindetails=[]):t==="coverages"?(l.coverages=[],l.coveragedetails=[]):t==="investments"?(l.investments={},w.value=[]):t==="ton_capacity"?l.tons={}:t==="interventions"?l.interventions=[]:l[t]="";l.implementing_partners=[],y.value.enabled=!0,y.value.type="add"},ge=t=>{v.value={...t,coverages:JSON.parse(t.coverages||"[]"),interventions:JSON.parse(t.interventions||"[]"),subcomponents:JSON.parse(t.subcomponents||"[]"),value_chains:JSON.parse(t.valuechains||"[]"),investments:JSON.parse(t.investments||"[]"),ton_capacity:JSON.parse(t.ton_capacity||"[]"),sector:JSON.parse(t.sector||"{}"),name:JSON.parse(t.name||"{}")};for(const e in v.value)if(e==="subcomponents")l.subcomponents=v.value.subcomponents.filter(n=>n.id!==null).map(n=>n.id),l.subcomponentdetails=v.value.subcomponents;else if(e==="value_chains")l.value_chains=v.value.value_chains.filter(n=>n.id!==null).map(n=>n.id),l.valuechaindetails=v.value.value_chains;else if(e==="coverages")l.coverages=v.value.coverages.filter(n=>n.id!==null).map(n=>n.id),l.coveragedetails=v.value.coverages;else if(e==="investments"){w.value=[],l.investments={};for(const n of v.value.investments)w.value.push(n.year),l.investments[n.year]=n.amount}else if(e==="implementing_partners")l.implementing_partners=v.value.implementing_partners;else if(e==="ton_capacity"){l.tons={};for(const n of v.value.ton_capacity)l.tons[n.year]=n.ton}else e==="sector"?l.sector=v.value.sector.id:e==="interventions"?l.interventions=v.value.interventions.filter(n=>n.id!==null).map(n=>n.id):e==="name"?(l.name=v.value.name,l.name.id||(l.name="")):l[e]=v.value[e];y.value.enabled=!0,y.value.type="edit"},he=t=>{v.value={...t,coverages:JSON.parse(t.coverages||"[]"),agrointerventions:JSON.parse(t.interventions||"[]"),subcomponents:JSON.parse(t.subcomponents||"[]"),valuechains:JSON.parse(t.valuechains||"[]"),expenditures:JSON.parse(t.investments||"[]"),ton_capacity:JSON.parse(t.ton_capacity||"[]"),sector:JSON.parse(t.sector||"{}"),name:JSON.parse(t.name||"{}")};for(const e in v.value)l[e]=v.value[e];q.value=!0},te=async()=>{if(r.value.$touch(),!await r.value.$validate())return;p.value=!0;const e=new FormData;e.append("name",JSON.stringify(l.name)),e.append("size",l.size),e.append("activities",l.activities),e.append("sector",l.sector),e.append("phone",l.phone),e.append("email",l.email),e.append("interventions",JSON.stringify(l.interventions)),e.append("subcomponents",JSON.stringify(l.subcomponents)),e.append("value_chains",JSON.stringify(l.value_chains)),e.append("locations",JSON.stringify(l.coverages)),e.append("investments",JSON.stringify(l.investments)),e.append("tons",JSON.stringify(l.tons));let n="/agroenterprises/add";l.id&&(n="/agroenterprises/edit/"+l.id),fetch(n,{method:"POST",body:e}).then(a=>(p.value=!1,y.value.enabled=!1,[200,201].includes(a.status)?a.json().then(()=>{L(),I.commit("setMessage",{type:"primary",text:"Agro Industry Enterprise saved successfully!",timeout:2e3})}):a.json().then(c=>{I.commit("setMessage",{type:"error",text:"Failed to save Agro Industry Enterprise! "+c.error,timeout:2e3})}))).catch(a=>{p.value=!1,I.commit("setMessage",{type:"error",text:"Failed to save Agro Industry Enterprise!",timeout:2e3}),console.error("Error:",a)})},be=()=>{p.value=!0;const t=new FormData;O.value=!1,fetch("/agroenterprises/delete/"+v.value.id,{method:"DELETE",body:t}).then(e=>(p.value=!1,y.value=!1,[200,201].includes(e.status)?e.json().then(()=>{L(),I.commit("setMessage",{type:"primary",text:"Agro Industry Enterprise deleted successfully!",timeout:2e3})}):e.json().then(n=>{I.commit("setMessage",{type:"error",text:"Failed to delete Agro Industry Enterprise! "+n.error,timeout:2e3})}))).catch(e=>{p.value=!1,I.commit("setMessage",{type:"error",text:"Failed to delete Agro Industry Enterprise!",timeout:2e3}),console.error("Error:",e)})};function ye(t){const e=l.coveragedetails.find(n=>n.id===t);return e?e.name:""}function Ve(t){let e=T.value.find(n=>n.id===t.path[0]);if(t.path.shift(),t.path.length)for(const n of t.path)e=e.children.find(a=>a.id===n);if(e=JSON.parse(JSON.stringify(e)),delete e.children,t.value)l.coveragedetails.push(e);else{const n=l.coveragedetails.findIndex(a=>a.id===e.id);n>-1&&l.coveragedetails.splice(n,1)}}function $e(t){const e=l.subcomponentdetails.find(n=>n.id===t);return e&&e?e.name:""}function De(t){const c=K.value.find(h=>h.id===t.path[0]).children.find(h=>h.id===t.path[1]).children.find(h=>h.id===t.path[2]).children.find(h=>h.id===t.path[3]);if(t.value)l.subcomponentdetails.push(c);else{const h=l.subcomponentdetails.findIndex(Ce=>Ce.id===c.id);h>-1&&l.subcomponentdetails.splice(h,1)}l.subcomponentdetails.length?M.value="":M.value="Sub-Component is required"}function ke(t){t.path.shift();let e=F.value[0].children.find(n=>n.id===t.path[0]);if(t.path.shift(),t.path.length)for(const n of t.path)e=e.children.find(a=>a.id===n);if(e=JSON.parse(JSON.stringify(e)),delete e.children,t.value)l.valuechaindetails.push(e),E.value="";else{const n=l.valuechaindetails.findIndex(a=>a.id===e.id);n>-1&&l.valuechaindetails.splice(n,1)}l.valuechaindetails.length?E.value="":E.value="Value Chain is required"}function Be(t){const e=l.valuechaindetails.find(n=>n.id===t);return e?e.name:""}const we=()=>{fetch("/agroenterprises/CSV").then(t=>t.text()).then(t=>{const e="csv",a="data:text/csv;charset=utf-8,"+escape(t),c=document.createElement("a");c.setAttribute("href",a),c.setAttribute("download",`Agro Industry Enterprise.${e}`),c.click()}).catch(()=>{p.value=!1})};return Ne(()=>{L(),ce(),me(),ve(),ee({}),ne("subcomponent"),pe()}),(t,e)=>{const n=xe("v-treeview");return d(),$(Ye,{fluid:""},{default:o(()=>[s(z,{modelValue:q.value,"onUpdate:modelValue":e[0]||(e[0]=a=>q.value=a),"max-width":"1000",scrollable:""},{default:o(()=>[s(Me,{organization:v.value},null,8,["organization"])]),_:1},8,["modelValue"]),s(z,{modelValue:x.value.individual,"onUpdate:modelValue":e[2]||(e[2]=a=>x.value.individual=a),"max-width":"800",transition:"dialog-top-transition"},{default:o(()=>[s(Fe,{project:v.value,onCloseDialog:e[1]||(e[1]=a=>x.value.individual=!1)},null,8,["project"])]),_:1},8,["modelValue"]),s(z,{modelValue:x.value.group,"onUpdate:modelValue":e[4]||(e[4]=a=>x.value.group=a),"max-width":"800",transition:"dialog-top-transition"},{default:o(()=>[s(qe,{project:v.value,onCloseDialog:e[3]||(e[3]=a=>x.value.group=!1)},null,8,["project"])]),_:1},8,["modelValue"]),s(z,{modelValue:y.value.enabled,"onUpdate:modelValue":e[22]||(e[22]=a=>y.value.enabled=a),"max-width":"800",transition:"dialog-top-transition"},{default:o(()=>[s(J,{class:"rounded-xl pa-4",elevation:"10"},{default:o(()=>[s(Y,{class:"rounded-lg flex-wrap",color:"primary",flat:""},{default:o(()=>[s(ae,{class:"text-white font-weight-bold text-wrap"},{default:o(()=>[N("div",Ke,[s(k,{class:"mr-2"},{default:o(()=>e[26]||(e[26]=[u("mdi-domain")])),_:1}),N("span",null,m(t.$t("addAgroIndustryEnterprise")),1)])]),_:1}),s(le),s(B,{color:"white",icon:"mdi-close",onClick:e[5]||(e[5]=a=>y.value.enabled=!1)})]),_:1}),s(J,{class:"d-flex flex-column","max-height":"100%"},{default:o(()=>[s(A,{class:"pt-6",style:{"overflow-y":"auto","max-height":"100%"}},{default:o(()=>[s(He,null,{default:o(()=>[s(j,{dense:""},{default:o(()=>[s(b,{cols:"6"},{default:o(()=>[s(U,{modelValue:l.name,"onUpdate:modelValue":e[6]||(e[6]=a=>l.name=a),autocomplete:"off","bg-color":"#BDBDBD",error:i(r).name.$error,"error-messages":i(r).name.$errors.map(a=>a.$message),"item-title":"abbrev","item-value":"id",items:Z.value,label:t.$t("organizationName"),required:"","return-object":"",onBlur:i(r).name.$touch,onChange:i(r).name.$touch},null,8,["modelValue","error","error-messages","items","label","onBlur","onChange"])]),_:1}),s(b,{cols:"6"},{default:o(()=>[s(U,{modelValue:l.size,"onUpdate:modelValue":e[7]||(e[7]=a=>l.size=a),autocomplete:"off","bg-color":"#BDBDBD",clearable:"","error-messages":i(r).size.$errors.map(a=>a.$message),"item-title":"name","item-value":"id",items:re.value,label:t.$t("sizeOfOperations"),onBlur:i(r).size.$touch,onChange:i(r).size.$touch},null,8,["modelValue","error-messages","items","label","onBlur","onChange"])]),_:1}),s(b,{cols:"6"},{default:o(()=>[s(U,{modelValue:l.interventions,"onUpdate:modelValue":e[8]||(e[8]=a=>l.interventions=a),autocomplete:"off","bg-color":"#BDBDBD",error:i(r).interventions.$error,"error-messages":i(r).interventions.$errors.map(a=>a.$message),"item-title":"name","item-value":"id",items:X.value,label:t.$t("keyInterventions"),multiple:"",required:"",onBlur:i(r).interventions.$touch,onChange:i(r).interventions.$touch},null,8,["modelValue","error","error-messages","items","label","onBlur","onChange"])]),_:1}),s(b,{cols:"6"},{default:o(()=>[s(U,{modelValue:l.sector,"onUpdate:modelValue":e[9]||(e[9]=a=>l.sector=a),autocomplete:"off","bg-color":"#BDBDBD",error:i(r).sector.$error,"error-messages":i(r).sector.$errors.map(a=>a.$message),"item-title":"name","item-value":"id",items:W.value,label:t.$t("sector"),required:"",onBlur:i(r).sector.$touch,onChange:i(r).sector.$touch},null,8,["modelValue","error","error-messages","items","label","onBlur","onChange"])]),_:1}),s(b,{cols:"12"},{default:o(()=>[u(m(t.$t("selectFlagshipSubcomponents"))+": ",1),s(n,{modelValue:l.subcomponents,"onUpdate:modelValue":[e[10]||(e[10]=a=>l.subcomponents=a),e[11]||(e[11]=a=>i(r).subcomponents.$touch())],"bg-color":"#BDBDBD",border:"",class:H({"error-border":i(r).subcomponents.$error}),color:"primary",fluid:"","item-title":"name","item-value":"id",items:i(K),"load-children":i(ie),"open-on-click":"",rounded:"","select-strategy":"leaf",selectable:"","onClick:select":De},null,8,["modelValue","class","items","load-children"]),i(r).subcomponents.$error?(d(),f("div",Re,[(d(!0),f(C,null,S(i(r).subcomponents.$errors,a=>(d(),f("div",{key:a.$uid},m(a.$message),1))),128))])):D("",!0),l.subcomponents.length?(d(),f("div",Ze,[N("div",We,m(t.$t("selectedComponents"))+":",1),(d(!0),f(C,null,S(l.subcomponents,a=>(d(),$(Q,{key:a,color:"green",size:"small","text-color":"white",variant:"elevated"},{default:o(()=>[u(m($e(a)),1)]),_:2},1024))),128))])):D("",!0)]),_:1}),s(b,{cols:"12"},{default:o(()=>[u(m(t.$t("selectCommodityProducts"))+": ",1),s(n,{modelValue:l.value_chains,"onUpdate:modelValue":[e[12]||(e[12]=a=>l.value_chains=a),e[13]||(e[13]=a=>i(r).value_chains.$touch())],"bg-color":"#BDBDBD",border:"",class:H({"error-border":i(r).value_chains.$error}),color:"primary",fluid:"","item-title":"name","item-value":"id",items:F.value,"open-on-click":"",rounded:"","select-strategy":"leaf",selectable:"","onClick:select":ke},null,8,["modelValue","class","items"]),i(r).value_chains.$error?(d(),f("div",Xe,[(d(!0),f(C,null,S(i(r).value_chains.$errors,a=>(d(),f("div",{key:a.$uid},m(a.$message),1))),128))])):D("",!0),l.value_chains.length?(d(),f("div",et,[N("div",tt,m(t.$t("selectedCommodityProducts"))+":",1),(d(!0),f(C,null,S(l.value_chains,a=>(d(),$(Q,{key:a,color:"primary",size:"small","text-color":"white",variant:"elevated"},{default:o(()=>[u(m(Be(a)),1)]),_:2},1024))),128))])):D("",!0)]),_:1}),s(b,{cols:"12"},{default:o(()=>[N("label",at,m(t.$t("selectGeographicalCoverage"))+":",1),s(n,{modelValue:l.coverages,"onUpdate:modelValue":[e[14]||(e[14]=a=>l.coverages=a),e[15]||(e[15]=a=>i(r).coverages.$touch())],"bg-color":"#BDBDBD",border:"",class:H({"error-border":i(r).coverages.$error}),color:"primary",fluid:"","item-title":"name","item-value":"id",items:T.value,"load-children":ee,"open-on-click":"",rounded:"","select-strategy":"independent",selectable:"","onClick:select":Ve},null,8,["modelValue","class","items"]),i(r).coverages.$error?(d(),f("div",lt,[(d(!0),f(C,null,S(i(r).coverages.$errors,a=>(d(),f("div",{key:a.$uid},m(a.$message),1))),128))])):D("",!0),l.coverages.length?(d(),f("div",st,[N("div",ot,m(t.$t("selectedGeographicalCoverage"))+":",1),(d(!0),f(C,null,S(l.coverages,a=>(d(),$(Q,{key:a,color:"primary",size:"small","text-color":"white",variant:"elevated"},{default:o(()=>[u(m(ye(a)),1)]),_:2},1024))),128))])):D("",!0)]),_:1}),s(b,{cols:"12"},{default:o(()=>[s(J,{class:"pa-6 shadow-lg"},{default:o(()=>[s(se,{class:"text-h6 font-weight-bold text-primary mb-4"},{default:o(()=>[s(k,{class:"mr-2 text-primary"},{default:o(()=>e[27]||(e[27]=[u("mdi-cash")])),_:1}),u(" "+m(t.$t("averageCapitalInvestments")),1)]),_:1}),s(A,null,{default:o(()=>[s(j,{align:"center",class:"mb-6"},{default:o(()=>[s(b,{cols:"12"},{default:o(()=>[s(i(Le),{modelValue:w.value,"onUpdate:modelValue":e[16]||(e[16]=a=>w.value=a),"auto-apply":"",class:"rounded-lg border px-4 py-2","multi-dates":"",placeholder:t.$t("selectInvestmentYears"),style:{width:"100%"},"text-input":"","year-picker":"","year-range":[t.$store.state.startYear,t.$store.state.endYear]},null,8,["modelValue","placeholder","year-range"])]),_:1})]),_:1}),w.value.length?(d(),$(j,{key:0,class:"gy-4"},{default:o(()=>[(d(!0),f(C,null,S(w.value,a=>(d(),$(b,{key:a,cols:"12",md:"4",sm:"6"},{default:o(()=>[s(P,{modelValue:l.investments[a],"onUpdate:modelValue":c=>l.investments[a]=c,"bg-color":"#BDBDBD",density:"comfortable",label:t.$t("tzsAmountForYear",{year:a}),min:"0",prefix:"TSh ",type:"number",variant:"outlined"},null,8,["modelValue","onUpdate:modelValue","label"])]),_:2},1024))),128))]),_:1})):D("",!0)]),_:1})]),_:1})]),_:1}),s(b,{cols:"12"},{default:o(()=>[s(J,{class:"pa-6 shadow-lg"},{default:o(()=>[s(se,{class:"text-h6 font-weight-bold text-primary mb-4"},{default:o(()=>[s(k,{class:"mr-2 text-primary"},{default:o(()=>e[28]||(e[28]=[u("mdi-weight")])),_:1}),u(" "+m(t.$t("capacityPerAnnum")),1)]),_:1}),s(A,null,{default:o(()=>[w.value.length?(d(),$(j,{key:0,class:"gy-4"},{default:o(()=>[(d(!0),f(C,null,S(w.value,a=>(d(),$(b,{key:a,cols:"12",md:"4",sm:"6"},{default:o(()=>[s(P,{modelValue:l.tons[a],"onUpdate:modelValue":c=>l.tons[a]=c,"bg-color":"#BDBDBD",density:"comfortable",label:t.$t("capacityForYear",{year:a}),min:"0",prefix:"Tons ",type:"number",variant:"outlined"},null,8,["modelValue","onUpdate:modelValue","label"])]),_:2},1024))),128))]),_:1})):D("",!0)]),_:1})]),_:1})]),_:1}),s(b,{cols:"12"},{default:o(()=>[s(Ge,{modelValue:l.activities,"onUpdate:modelValue":e[17]||(e[17]=a=>l.activities=a),"bg-color":"#BDBDBD",clearable:"","error-messages":i(r).activities.$errors.map(a=>a.$message),label:t.$t("keyActivities"),onBlur:i(r).activities.$touch,onInput:i(r).activities.$touch},null,8,["modelValue","error-messages","label","onBlur","onInput"])]),_:1}),s(b,{cols:"6"},{default:o(()=>[s(P,{modelValue:l.phone,"onUpdate:modelValue":e[18]||(e[18]=a=>l.phone=a),"bg-color":"#BDBDBD",label:t.$t("contactPhone")},null,8,["modelValue","label"])]),_:1}),s(b,{cols:"6"},{default:o(()=>[s(P,{modelValue:l.email,"onUpdate:modelValue":e[19]||(e[19]=a=>l.email=a),"bg-color":"#BDBDBD",error:i(r).email.$error,"error-messages":i(r).email.$errors.map(a=>a.$message),label:t.$t("contactEmail"),onBlur:i(r).email.$touch,onChange:i(r).email.$touch},null,8,["modelValue","error","error-messages","label","onBlur","onChange"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),y.value.type==="add"?(d(),$(oe,{key:0,class:"d-flex justify-end"},{default:o(()=>[s(B,{class:"text-white",color:"success",disabled:i(r).$error,loading:p.value,size:"large",variant:"elevated",onClick:te},{default:o(()=>[s(k,{start:""},{default:o(()=>e[29]||(e[29]=[u("mdi-content-save")])),_:1}),u(" "+m(t.$t("save")),1)]),_:1},8,["disabled","loading"])]),_:1})):D("",!0),y.value.type==="edit"?(d(),$(oe,{key:1,class:"d-flex justify-end justify-space-between"},{default:o(()=>[s(B,{color:"success",disabled:i(r).$error,loading:p.value,size:"large",type:"submit",variant:"elevated",onClick:te},{default:o(()=>[s(k,{start:""},{default:o(()=>e[30]||(e[30]=[u("mdi-plus")])),_:1}),u(" "+m(t.$t("save")),1)]),_:1},8,["disabled","loading"]),s(B,{color:"black",disabled:i(r).$error,loading:p.value,size:"large",type:"submit",variant:"elevated",onClick:e[20]||(e[20]=a=>y.value.enabled=!1)},{default:o(()=>[s(k,{start:""},{default:o(()=>e[31]||(e[31]=[u("mdi-cancel")])),_:1}),u(" "+m(t.$t("cancel")),1)]),_:1},8,["disabled","loading"]),s(B,{color:"error",disabled:i(r).$error,loading:p.value,size:"large",type:"submit",variant:"elevated",onClick:e[21]||(e[21]=a=>O.value=!0)},{default:o(()=>[s(k,{start:""},{default:o(()=>e[32]||(e[32]=[u("mdi-delete")])),_:1}),u(" "+m(t.$t("delete")),1)]),_:1},8,["disabled","loading"])]),_:1})):D("",!0)]),_:1})]),_:1},8,["modelValue"]),s(z,{modelValue:O.value,"onUpdate:modelValue":e[25]||(e[25]=a=>O.value=a),persistent:"",width:"auto"},{default:o(()=>[s(J,null,{default:o(()=>[s(Y,{color:"warning",title:t.$t("confirmDeleting")+" "+l.name},{default:o(()=>[s(B,{color:"white",icon:"mdi-close",onClick:e[23]||(e[23]=a=>O.value=!1)})]),_:1},8,["title"]),s(A,null,{default:o(()=>[u(m(t.$t("confirmDeleteMessage",{name:l.name})),1)]),_:1}),N("div",nt,[s(B,{color:"success",onClick:e[24]||(e[24]=a=>O.value=!1)},{default:o(()=>[u(m(t.$t("cancel")),1)]),_:1}),s(B,{color:"error",onClick:be},{default:o(()=>[u(m(t.$t("proceed")),1)]),_:1})])]),_:1})]),_:1},8,["modelValue"]),s(Y,{class:"rounded-lg mb-2 px-4",color:"primary",flat:"",height:"60"},{default:o(()=>[s(ae,{class:"text-white font-weight-bold text-h6"},{default:o(()=>[s(k,{class:"mr-2",color:"white"},{default:o(()=>e[33]||(e[33]=[u("mdi-factory")])),_:1}),u(" "+m(t.$t("agroIndustryEnterprises")),1)]),_:1}),s(le),s(B,{class:"font-weight-medium mr-2",color:"white",size:"small",onClick:we},{default:o(()=>[s(k,{color:"white",start:""},{default:o(()=>e[34]||(e[34]=[u("mdi-download")])),_:1}),u(" "+m(t.$t("download")),1)]),_:1}),s(B,{class:"text-white font-weight-medium",color:"#1A237E",size:"small",onClick:fe},{default:o(()=>[s(k,{start:""},{default:o(()=>e[35]||(e[35]=[u("mdi-plus")])),_:1}),u(" "+m(t.$t("addAgroIndustryEnterprise")),1)]),_:1})]),_:1}),s(J,{class:"rounded-lg"},{default:o(()=>[s(A,null,{default:o(()=>[s(Oe,{active:V.value,indeterminate:V.value},null,8,["active","indeterminate"]),s(Qe,{class:"elevation-1",dense:"",headers:ue.value,height:"300",items:R.value},{"item.activities":o(({item:a})=>{var c,h;return[u(m((c=a.activities)==null?void 0:c.slice(0,60)),1),((h=a.activities)==null?void 0:h.length)>60?(d(),f("span",it,"...")):D("",!0)]}),"item.name":o(({item:a})=>{var c;return[u(m((c=JSON.parse(a.name))==null?void 0:c.abbrev),1)]}),"item.sector":o(({item:a})=>{var c;return[u(m((c=JSON.parse(a.sector))==null?void 0:c.name),1)]}),"item.action":o(({item:a})=>[s(Je,null,{activator:o(({props:c})=>[s(B,je(c,{color:"grey-darken-2",density:"comfortable",icon:"mdi-dots-vertical",ripple:"",variant:"text"}),null,16)]),default:o(()=>[s(ze,{density:"compact","min-width":"180"},{default:o(()=>[(d(!0),f(C,null,S([{title:t.$t("view"),icon:"mdi-eye-outline",click:()=>he(a)},{title:t.$t("edit"),icon:"mdi-pencil-outline",click:()=>ge(a)}],(c,h)=>(d(),$(Ae,{key:h,class:"px-4",ripple:"",onClick:c.click},{prepend:o(()=>[s(k,{icon:c.icon,size:"small"},null,8,["icon"])]),default:o(()=>[s(Ee,{class:"text-caption"},{default:o(()=>[u(m(c.title),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:2},1024)]),_:2},1024)]),_:1},8,["headers","items"])]),_:1})]),_:1})]),_:1})}}},It=Se(rt,[["__scopeId","data-v-fbb182e9"]]);export{It as default};
