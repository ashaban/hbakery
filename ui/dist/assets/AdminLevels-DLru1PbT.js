import{_ as _e,s as w,x as e,r as u,f as Se,q as he,Y as Le,Z as Ee,v as x,j as a,$ as K,a0 as X,D as n,J as v,E as $,I as m,P as d,a1 as k,z as g,Q as We,a2 as N,L as A,F as M,G as j,H as z,M as U,a3 as q,N as H,a4 as P}from"./index-BWC57mqE.js";import{V as Re}from"./VContainer-CSFeTSsk.js";import{V as re}from"./VDialog-C_uX5X1X.js";import{V as ee,e as le,d as Fe}from"./VCard-BI_548n6.js";import{V as ce}from"./VForm-DLSdHKgA.js";import{V as ie}from"./VTextField-BUBZtWvQ.js";import{V as Te,a as fe,b as Ie,c as ve}from"./VTabs-CfMCTLo2.js";import{V as W}from"./VCol-DWZn5MAN.js";import{V as Ne}from"./VDataTable-BT5jeeYE.js";import"./VSlideGroup-DR6QWFvL.js";import"./VSelect-B3SmRlp7.js";import"./VChip-CEVDHffS.js";const Ae={setup(){const c=Le(),l=u("hierarchy"),y=u(!1),t=u(""),B=u([]),R=u([]),C=u([]),i=u([]),r=u([]),V=u([]),L=u(""),D=u(""),_=u(""),S=u(""),h=u(""),me=u(""),ue=u(!1),oe=u(!1),ae=u(!1),O=u(!1),F=u(!1),se=u(!1),ne=u(!1),de=u(!1),T=u(""),te=u(""),b=u({}),E=u({}),ge=[{text:"Type",value:"type"},{text:"Name",value:"name"},{text:"Parent",value:"parentName"},{text:"Actions",value:"actions",sortable:!1}],ye=Se(()=>{const s=[];return B.value.forEach(o=>{s.push({id:o.id,name:o.name,type:"Country",parentName:""})}),R.value.forEach(o=>{var f;s.push({id:o.id,name:o.name,type:"State",parentName:((f=B.value.find(p=>p.id===o.country))==null?void 0:f.name)||""})}),C.value.forEach(o=>{var f;s.push({id:o.id,name:o.name,type:"Region",parentName:((f=R.value.find(p=>p.id===o.state))==null?void 0:f.name)||""})}),i.value.forEach(o=>{var f;s.push({id:o.id,name:o.name,type:"District",parentName:((f=C.value.find(p=>p.id===o.region))==null?void 0:f.name)||""})}),r.value.forEach(o=>{var f;s.push({id:o.id,name:o.name,type:"Ward",parentName:((f=i.value.find(p=>p.id===o.district))==null?void 0:f.name)||""})}),V.value.forEach(o=>{var f;s.push({id:o.id,name:o.name,type:"Village",parentName:((f=r.value.find(p=>p.id===o.ward))==null?void 0:f.name)||""})}),s}),I=async()=>{y.value=!0;try{const s=await fetch("/adminLevels/getCountries");B.value=await s.json()}catch{c.commit("setMessage",{type:"error",text:"Failed to load countries",timeout:2e3})}finally{y.value=!1}},G=async s=>{y.value=!0,L.value=s,ue.value=!0;try{const o=await fetch(`/adminLevels/getStates/${s}`);R.value=await o.json(),C.value=[],i.value=[],r.value=[],V.value=[],oe.value=!1,ae.value=!1,O.value=!1,F.value=!1}catch{c.commit("setMessage",{type:"error",text:"Failed to load states",timeout:2e3})}finally{y.value=!1}},J=async s=>{y.value=!0,D.value=s,oe.value=!0;try{const o=await fetch(`/adminLevels/getRegions/${s}`);C.value=await o.json(),i.value=[],r.value=[],V.value=[],ae.value=!1,O.value=!1,F.value=!1}catch{c.commit("setMessage",{type:"error",text:"Failed to load regions",timeout:2e3})}finally{y.value=!1}},Q=async s=>{y.value=!0,_.value=s,ae.value=!0;try{const o=await fetch(`/adminLevels/getDistricts/${s}`);i.value=await o.json(),r.value=[],V.value=[],O.value=!1,F.value=!1}catch{c.commit("setMessage",{type:"error",text:"Failed to load districts",timeout:2e3})}finally{y.value=!1}},Y=async s=>{y.value=!0,S.value=s,O.value=!0;try{const o=await fetch(`/adminLevels/getWards/${s}`);r.value=await o.json(),V.value=[],F.value=!1}catch{c.commit("setMessage",{type:"error",text:"Failed to load wards",timeout:2e3})}finally{y.value=!1}},Z=async s=>{y.value=!0,h.value=s,F.value=!0;try{const o=await fetch(`/adminLevels/getVillages/${s}`);V.value=await o.json()}catch{c.commit("setMessage",{type:"error",text:"Failed to load villages",timeout:2e3})}finally{y.value=!1}},ke=s=>{T.value=s,te.value="",ne.value=!0},pe=async()=>{if(!te.value)return;y.value=!0;const s=new FormData;s.append("name",te.value);let o="";switch(T.value){case"Country":o="/adminLevels/addCountry";break;case"State":o="/adminLevels/addState",s.append("country",L.value);break;case"Region":o="/adminLevels/addRegion",s.append("state",D.value);break;case"District":o="/adminLevels/addDistrict",s.append("region",_.value);break;case"Ward":o="/adminLevels/addWard",s.append("district",S.value);break;case"Village":o="/adminLevels/addVillage",s.append("ward",h.value);break}try{if((await fetch(o,{method:"POST",body:s})).ok){switch(c.commit("setMessage",{type:"success",text:`${T.value} added successfully!`,timeout:2e3}),T.value){case"Country":await I();break;case"State":await G(L.value);break;case"Region":await J(D.value);break;case"District":await Q(_.value);break;case"Ward":await Y(S.value);break;case"Village":await Z(h.value);break}ne.value=!1}else throw new Error("Failed to add item")}catch{c.commit("setMessage",{type:"error",text:`Failed to add ${T.value}`,timeout:2e3})}finally{y.value=!1}},xe=(s,o)=>{b.value={...s,type:o},se.value=!0},Ce=async s=>{if(!b.value.name)return;y.value=!0;const o=new FormData;o.append("name",b.value.name),s==="Region"?o.append("state",b.value.state):s==="District"?o.append("region",b.value.region):s==="Ward"?o.append("district",b.value.district):s==="Village"&&o.append("ward",b.value.ward),console.log(`/adminLevels/edit${s}/${b.value.id}`);try{if((await fetch(`/adminLevels/edit${s}/${b.value.id}`,{method:"POST",body:o})).ok){switch(c.commit("setMessage",{type:"success",text:`${s} updated successfully!`,timeout:2e3}),s){case"Country":await I();break;case"State":await G(L.value);break;case"Region":await J(D.value);break;case"District":await Q(_.value);break;case"Ward":await Y(S.value);break;case"Village":await Z(h.value);break}se.value=!1}else throw new Error("Failed to update item")}catch{c.commit("setMessage",{type:"error",text:`Failed to update ${s}`,timeout:2e3})}finally{y.value=!1}},we=(s,o)=>{E.value={...s,type:o};let f=!1;if(o==="Country"?f=R.value.some(p=>p.country===s.id):o==="State"?f=C.value.some(p=>p.state===s.id):o==="Region"?f=i.value.some(p=>p.region===s.id):o==="District"?f=r.value.some(p=>p.district===s.id):o==="Ward"&&(f=V.value.some(p=>p.ward===s.id)),f){c.commit("setMessage",{type:"warning",text:`Please delete all ${o.toLowerCase()} items first before deleting this ${o.toLowerCase()}.`,timeout:3e3});return}de.value=!0},be=async()=>{y.value=!0;try{if((await fetch(`/adminLevels/delete${E.value.type}/${E.value.id}`,{method:"DELETE"})).ok){switch(c.commit("setMessage",{type:"success",text:`${E.value.type} deleted successfully!`,timeout:2e3}),E.value.type){case"Country":await I();break;case"State":await G(L.value);break;case"Region":await J(D.value);break;case"District":await Q(_.value);break;case"Ward":await Y(S.value);break;case"Village":await Z(h.value);break}de.value=!1}else throw new Error("Failed to delete item")}catch{c.commit("setMessage",{type:"error",text:`Failed to delete ${E.value.type}`,timeout:2e3})}finally{y.value=!1}},Ve=()=>{me.value?Z(h.value):h.value?Y(S.value):S.value?Q(_.value):_.value?J(D.value):D.value?G(L.value):I()},De=s=>!!s||"Field is required";return he(()=>{I()}),{tab:l,loading:y,search:t,countries:B,states:R,regions:C,districts:i,wards:r,villages:V,activeCountry:L,activeState:D,activeRegion:_,activeDistrict:S,activeWard:h,activeVillage:me,showStates:ue,showRegions:oe,showDistricts:ae,showWards:O,showVillages:F,editDialog:se,addDialog:ne,confirmDeleteDialog:de,activeType:T,newItemName:te,editingItem:b,deleteItem:E,tableHeaders:ge,flattenedHierarchy:ye,loadCountries:I,loadStates:G,loadRegions:J,loadDistricts:Q,loadWards:Y,loadVillages:Z,openAddDialog:ke,addItem:pe,activateEdit:xe,saveEdit:Ce,activateDelete:we,remove:be,refreshData:Ve,required:De}}},Me={class:"d-flex justify-end"},je={class:"d-flex justify-end"},ze={class:"text-h5 mb-2"},Ue={class:"text-body-1"},qe={class:"hierarchy-container pa-4"},He={class:"column-header"},Pe={class:"text-subtitle-1 font-weight-bold"},Be={class:"column-header"},Oe={class:"text-subtitle-1 font-weight-bold"},Ge={class:"column-header"},Je={class:"text-subtitle-1 font-weight-bold"},Qe={class:"column-header"},Ye={class:"text-subtitle-1 font-weight-bold"},Ze={class:"column-header"},Ke={class:"text-subtitle-1 font-weight-bold"},Xe={class:"column-header"},$e={class:"text-subtitle-1 font-weight-bold"},el={class:"text-h5 mt-4 grey--text text--lighten-1"},ll={class:"grey--text"};function al(c,l,y,t,B,R){const C=Ee("v-list-item-content");return x(),w(Re,{class:"pa-6 admin-container",fluid:""},{default:e(()=>[a(re,{modelValue:t.editDialog,"onUpdate:modelValue":l[5]||(l[5]=i=>t.editDialog=i),"max-width":"500",transition:"dialog-bottom-transition"},{default:e(()=>[a(ee,{class:"edit-card"},{default:e(()=>[a(K,{color:"primary-gradient",dark:""},{default:e(()=>[a(X,null,{default:e(()=>[n("Edit "+v(t.editingItem.type),1)]),_:1}),a($),a(m,{icon:"",onClick:l[0]||(l[0]=i=>t.editDialog=!1)},{default:e(()=>[a(d,null,{default:e(()=>l[22]||(l[22]=[n("mdi-close")])),_:1})]),_:1})]),_:1}),a(le,{class:"pa-6"},{default:e(()=>[a(ce,{onSubmit:l[4]||(l[4]=k(i=>t.saveEdit(t.editingItem.type),["prevent"]))},{default:e(()=>[a(ie,{modelValue:t.editingItem.id,"onUpdate:modelValue":l[1]||(l[1]=i=>t.editingItem.id=i),"bg-color":"grey-lighten-4",class:"mb-4",dense:"",label:"ID",outlined:"",readonly:""},null,8,["modelValue"]),a(ie,{modelValue:t.editingItem.name,"onUpdate:modelValue":l[2]||(l[2]=i=>t.editingItem.name=i),class:"mb-4",dense:"",label:"Name",outlined:"",required:"",rules:[t.required]},null,8,["modelValue","rules"]),g("div",Me,[a(m,{class:"mr-2",color:"grey",text:"",onClick:l[3]||(l[3]=i=>t.editDialog=!1)},{default:e(()=>l[23]||(l[23]=[n(" Cancel ")])),_:1}),a(m,{color:"primary",depressed:"",loading:t.loading,type:"submit"},{default:e(()=>l[24]||(l[24]=[n(" Save Changes ")])),_:1},8,["loading"])])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(re,{modelValue:t.addDialog,"onUpdate:modelValue":l[9]||(l[9]=i=>t.addDialog=i),"max-width":"500",transition:"dialog-bottom-transition"},{default:e(()=>[a(ee,{class:"add-card"},{default:e(()=>[a(K,{color:"secondary-gradient",dark:""},{default:e(()=>[a(X,null,{default:e(()=>[n("Add "+v(t.activeType),1)]),_:1}),a($),a(m,{icon:"",onClick:l[6]||(l[6]=i=>t.addDialog=!1)},{default:e(()=>[a(d,null,{default:e(()=>l[25]||(l[25]=[n("mdi-close")])),_:1})]),_:1})]),_:1}),a(le,{class:"pa-6"},{default:e(()=>[a(ce,{onSubmit:k(t.addItem,["prevent"])},{default:e(()=>[a(ie,{modelValue:t.newItemName,"onUpdate:modelValue":l[7]||(l[7]=i=>t.newItemName=i),class:"mb-4",dense:"",label:`${t.activeType} Name`,outlined:"",required:"",rules:[t.required]},null,8,["modelValue","label","rules"]),g("div",je,[a(m,{class:"mr-2",color:"grey",text:"",onClick:l[8]||(l[8]=i=>t.addDialog=!1)},{default:e(()=>l[26]||(l[26]=[n(" Cancel ")])),_:1}),a(m,{color:"secondary",depressed:"",loading:t.loading,type:"submit"},{default:e(()=>[n(" Add "+v(t.activeType),1)]),_:1},8,["loading"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(re,{modelValue:t.confirmDeleteDialog,"onUpdate:modelValue":l[12]||(l[12]=i=>t.confirmDeleteDialog=i),"max-width":"500"},{default:e(()=>[a(ee,{class:"delete-card"},{default:e(()=>[a(K,{color:"error-gradient",dark:""},{default:e(()=>[a(X,null,{default:e(()=>l[27]||(l[27]=[n("Confirm Deletion")])),_:1}),a($),a(m,{icon:"",onClick:l[10]||(l[10]=i=>t.confirmDeleteDialog=!1)},{default:e(()=>[a(d,null,{default:e(()=>l[28]||(l[28]=[n("mdi-close")])),_:1})]),_:1})]),_:1}),a(le,{class:"pa-6 text-center"},{default:e(()=>[a(d,{class:"mb-4",color:"error",size:"64"},{default:e(()=>l[29]||(l[29]=[n("mdi-alert-circle-outline")])),_:1}),g("h3",ze,"Delete "+v(t.deleteItem.type)+"?",1),g("p",Ue,[l[30]||(l[30]=n("Are you sure you want to delete ")),g("strong",null,v(t.deleteItem.name),1),l[31]||(l[31]=n("?"))]),l[32]||(l[32]=g("p",{class:"text-caption text--secondary mt-4"},"This action cannot be undone.",-1))]),_:1}),a(Fe,{class:"pa-6 pt-0 justify-end"},{default:e(()=>[a(m,{text:"",onClick:l[11]||(l[11]=i=>t.confirmDeleteDialog=!1)},{default:e(()=>l[33]||(l[33]=[n("Cancel")])),_:1}),a(m,{color:"error",depressed:"",onClick:t.remove},{default:e(()=>l[34]||(l[34]=[n("Delete")])),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(ee,{class:"rounded-xl pa-4",elevation:"3"},{default:e(()=>[a(K,{class:"rounded-xl mb-4",color:"primary"},{default:e(()=>[a(X,{class:"text-white font-weight-bold"},{default:e(()=>[a(d,{large:"",left:""},{default:e(()=>l[35]||(l[35]=[n("mdi-account-group")])),_:1}),n(" "+v(c.$t("Administrative Hierarchy")),1)]),_:1}),a($),a(m,{icon:"",onClick:t.refreshData},{default:e(()=>[a(d,null,{default:e(()=>l[36]||(l[36]=[n("mdi-refresh")])),_:1})]),_:1},8,["onClick"])]),_:1}),a(le,{class:"pa-0"},{default:e(()=>[a(Te,{modelValue:t.tab,"onUpdate:modelValue":l[13]||(l[13]=i=>t.tab=i),color:"primary",grow:""},{default:e(()=>[a(fe,{value:"hierarchy"},{default:e(()=>[a(d,{left:""},{default:e(()=>l[37]||(l[37]=[n("mdi-sitemap")])),_:1}),n(" "+v(c.$t("Hierarchy View")),1)]),_:1}),a(fe,{value:"list"},{default:e(()=>[a(d,{left:""},{default:e(()=>l[38]||(l[38]=[n("mdi-format-list-bulleted")])),_:1}),n(" "+v(c.$t("List View")),1)]),_:1})]),_:1},8,["modelValue"]),a(Ie,{modelValue:t.tab,"onUpdate:modelValue":l[21]||(l[21]=i=>t.tab=i)},{default:e(()=>[a(ve,{value:"hierarchy"},{default:e(()=>[g("div",qe,[a(We,{class:"hierarchy-row"},{default:e(()=>[a(W,{class:"hierarchy-column",cols:"12",lg:"2",md:"4",sm:"6"},{default:e(()=>[g("div",He,[g("h3",Pe,v(c.$t("Countries")),1),a(m,{color:"primary",icon:"",size:"small",onClick:l[14]||(l[14]=i=>t.openAddDialog("Country"))},{default:e(()=>[a(d,{small:""},{default:e(()=>l[39]||(l[39]=[n("mdi-plus")])),_:1})]),_:1})]),a(A,{class:"py-0",dense:""},{default:e(()=>[(x(!0),M(j,null,z(t.countries,i=>(x(),w(U,{key:i.id,class:q({"active-item":t.activeCountry===i.id}),onClick:r=>t.loadStates(i.id)},{default:e(()=>[a(C,null,{default:e(()=>[a(H,null,{default:e(()=>[n(v(i.name),1)]),_:2},1024)]),_:2},1024),a(P,{class:"d-flex flex-row align-center",style:{"min-width":"96px"}},{default:e(()=>[a(m,{class:"mx-1 action-btn",color:"primary",icon:"","x-small":"",onClick:k(r=>t.activateEdit(i,"Country"),["stop"])},{default:e(()=>[a(d,{"x-small":""},{default:e(()=>l[40]||(l[40]=[n("mdi-pencil")])),_:1})]),_:2},1032,["onClick"]),a(m,{class:"mx-1 action-btn",color:"error",icon:"","x-small":"",onClick:k(r=>t.activateDelete(i,"Country"),["stop"])},{default:e(()=>[a(d,{"x-small":""},{default:e(()=>l[41]||(l[41]=[n("mdi-delete")])),_:1})]),_:2},1032,["onClick"]),a(d,{class:"mx-1",color:t.activeCountry===i.id?"primary":"grey","x-small":"",onClick:k(r=>t.loadStates(i.id),["stop"])},{default:e(()=>l[42]||(l[42]=[n(" mdi-chevron-right ")])),_:2},1032,["color","onClick"])]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1}),t.showStates?(x(),w(W,{key:0,class:"hierarchy-column",cols:"12",lg:"2",md:"4",sm:"6"},{default:e(()=>[g("div",Be,[g("h3",Oe,v(c.$t("States")),1),a(m,{color:"primary",icon:"",size:"small",onClick:l[15]||(l[15]=i=>t.openAddDialog("State"))},{default:e(()=>[a(d,{small:""},{default:e(()=>l[43]||(l[43]=[n("mdi-plus")])),_:1})]),_:1})]),a(A,{class:"py-0",dense:""},{default:e(()=>[(x(!0),M(j,null,z(t.states,i=>(x(),w(U,{key:i.id,class:q({"active-item":t.activeState===i.id}),onClick:r=>t.loadRegions(i.id)},{default:e(()=>[a(C,null,{default:e(()=>[a(H,null,{default:e(()=>[n(v(i.name),1)]),_:2},1024)]),_:2},1024),a(P,{class:"d-flex flex-row align-center",style:{"min-width":"96px"}},{default:e(()=>[a(m,{class:"mx-1 action-btn",color:"primary",icon:"","x-small":"",onClick:k(r=>t.activateEdit(i,"State"),["stop"])},{default:e(()=>[a(d,{"x-small":""},{default:e(()=>l[44]||(l[44]=[n("mdi-pencil")])),_:1})]),_:2},1032,["onClick"]),a(m,{class:"mx-1 action-btn",color:"error",icon:"","x-small":"",onClick:k(r=>t.activateDelete(i,"State"),["stop"])},{default:e(()=>[a(d,{"x-small":""},{default:e(()=>l[45]||(l[45]=[n("mdi-delete")])),_:1})]),_:2},1032,["onClick"]),a(d,{class:"mx-1",color:t.activeState===i.id?"primary":"grey","x-small":"",onClick:k(r=>t.loadStates(i.id),["stop"])},{default:e(()=>l[46]||(l[46]=[n(" mdi-chevron-right ")])),_:2},1032,["color","onClick"])]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1})):N("",!0),t.showRegions?(x(),w(W,{key:1,class:"hierarchy-column",cols:"12",lg:"2",md:"4",sm:"6"},{default:e(()=>[g("div",Ge,[g("h3",Je,v(c.$t("Regions")),1),a(m,{color:"primary",icon:"",size:"small",onClick:l[16]||(l[16]=i=>t.openAddDialog("Region"))},{default:e(()=>[a(d,{small:""},{default:e(()=>l[47]||(l[47]=[n("mdi-plus")])),_:1})]),_:1})]),a(A,{class:"py-0",dense:""},{default:e(()=>[(x(!0),M(j,null,z(t.regions,i=>(x(),w(U,{key:i.id,class:q({"active-item":t.activeRegion===i.id}),onClick:r=>t.loadDistricts(i.id)},{default:e(()=>[a(C,null,{default:e(()=>[a(H,null,{default:e(()=>[n(v(i.name),1)]),_:2},1024)]),_:2},1024),a(P,{class:"d-flex flex-row align-center",style:{"min-width":"96px"}},{default:e(()=>[a(m,{class:"mx-1 action-btn",color:"primary",icon:"","x-small":"",onClick:k(r=>t.activateEdit(i,"Region"),["stop"])},{default:e(()=>[a(d,{"x-small":""},{default:e(()=>l[48]||(l[48]=[n("mdi-pencil")])),_:1})]),_:2},1032,["onClick"]),a(m,{class:"mx-1 action-btn",color:"error",icon:"","x-small":"",onClick:k(r=>t.activateDelete(i,"Region"),["stop"])},{default:e(()=>[a(d,{"x-small":""},{default:e(()=>l[49]||(l[49]=[n("mdi-delete")])),_:1})]),_:2},1032,["onClick"]),a(d,{class:"mx-1",color:t.activeRegion===i.id?"primary":"grey","x-small":"",onClick:k(r=>t.loadStates(i.id),["stop"])},{default:e(()=>l[50]||(l[50]=[n(" mdi-chevron-right ")])),_:2},1032,["color","onClick"])]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1})):N("",!0),t.showDistricts?(x(),w(W,{key:2,class:"hierarchy-column",cols:"12",lg:"2",md:"4",sm:"6"},{default:e(()=>[g("div",Qe,[g("h3",Ye,v(c.$t("Districts")),1),a(m,{color:"primary",icon:"",size:"small",onClick:l[17]||(l[17]=i=>t.openAddDialog("District"))},{default:e(()=>[a(d,{small:""},{default:e(()=>l[51]||(l[51]=[n("mdi-plus")])),_:1})]),_:1})]),a(A,{class:"py-0",dense:""},{default:e(()=>[(x(!0),M(j,null,z(t.districts,i=>(x(),w(U,{key:i.id,class:q({"active-item":t.activeDistrict===i.id}),onClick:r=>t.loadWards(i.id)},{default:e(()=>[a(C,null,{default:e(()=>[a(H,null,{default:e(()=>[n(v(i.name),1)]),_:2},1024)]),_:2},1024),a(P,{class:"d-flex flex-row align-center",style:{"min-width":"96px"}},{default:e(()=>[a(m,{class:"mx-1 action-btn",color:"primary",icon:"","x-small":"",onClick:k(r=>t.activateEdit(i,"District"),["stop"])},{default:e(()=>[a(d,{"x-small":""},{default:e(()=>l[52]||(l[52]=[n("mdi-pencil")])),_:1})]),_:2},1032,["onClick"]),a(m,{class:"mx-1 action-btn",color:"error",icon:"","x-small":"",onClick:k(r=>t.activateDelete(i,"District"),["stop"])},{default:e(()=>[a(d,{"x-small":""},{default:e(()=>l[53]||(l[53]=[n("mdi-delete")])),_:1})]),_:2},1032,["onClick"]),a(d,{class:"mx-1",color:t.activeDistrict===i.id?"primary":"grey","x-small":"",onClick:k(r=>t.loadStates(i.id),["stop"])},{default:e(()=>l[54]||(l[54]=[n(" mdi-chevron-right ")])),_:2},1032,["color","onClick"])]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1})):N("",!0),t.showWards?(x(),w(W,{key:3,class:"hierarchy-column",cols:"12",lg:"2",md:"4",sm:"6"},{default:e(()=>[g("div",Ze,[g("h3",Ke,v(c.$t("Wards")),1),a(m,{color:"primary",icon:"",size:"small",onClick:l[18]||(l[18]=i=>t.openAddDialog("Ward"))},{default:e(()=>[a(d,{small:""},{default:e(()=>l[55]||(l[55]=[n("mdi-plus")])),_:1})]),_:1})]),a(A,{class:"py-0",dense:""},{default:e(()=>[(x(!0),M(j,null,z(t.wards,i=>(x(),w(U,{key:i.id,class:q({"active-item":t.activeWard===i.id}),onClick:r=>t.loadVillages(i.id)},{default:e(()=>[a(C,null,{default:e(()=>[a(H,null,{default:e(()=>[n(v(i.name),1)]),_:2},1024)]),_:2},1024),a(P,{class:"d-flex flex-row align-center",style:{"min-width":"96px"}},{default:e(()=>[a(m,{class:"mx-1 action-btn",color:"primary",icon:"","x-small":"",onClick:k(r=>t.activateEdit(i,"Ward"),["stop"])},{default:e(()=>[a(d,{"x-small":""},{default:e(()=>l[56]||(l[56]=[n("mdi-pencil")])),_:1})]),_:2},1032,["onClick"]),a(m,{class:"mx-1 action-btn",color:"error",icon:"","x-small":"",onClick:k(r=>t.activateDelete(i,"Ward"),["stop"])},{default:e(()=>[a(d,{"x-small":""},{default:e(()=>l[57]||(l[57]=[n("mdi-delete")])),_:1})]),_:2},1032,["onClick"]),a(d,{class:"mx-1",color:t.activeWard===i.id?"primary":"grey","x-small":"",onClick:k(r=>t.loadStates(i.id),["stop"])},{default:e(()=>l[58]||(l[58]=[n(" mdi-chevron-right ")])),_:2},1032,["color","onClick"])]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1})):N("",!0),t.showVillages?(x(),w(W,{key:4,class:"hierarchy-column",cols:"12",lg:"2",md:"4",sm:"6"},{default:e(()=>[g("div",Xe,[g("h3",$e,v(c.$t("Villages")),1),a(m,{color:"primary",icon:"",size:"small",onClick:l[19]||(l[19]=i=>t.openAddDialog("Village"))},{default:e(()=>[a(d,{small:""},{default:e(()=>l[59]||(l[59]=[n("mdi-plus")])),_:1})]),_:1})]),a(A,{class:"py-0",dense:""},{default:e(()=>[(x(!0),M(j,null,z(t.villages,i=>(x(),w(U,{key:i.id,class:q({"active-item":t.activeVillage===i.id})},{default:e(()=>[a(C,null,{default:e(()=>[a(H,null,{default:e(()=>[n(v(i.name),1)]),_:2},1024)]),_:2},1024),a(P,{class:"d-flex flex-row align-center",style:{"min-width":"96px"}},{default:e(()=>[a(m,{class:"mx-1 action-btn",color:"primary",icon:"","x-small":"",onClick:k(r=>t.activateEdit(i,"Village"),["stop"])},{default:e(()=>[a(d,{"x-small":""},{default:e(()=>l[60]||(l[60]=[n("mdi-pencil")])),_:1})]),_:2},1032,["onClick"]),a(m,{class:"mx-1 action-btn",color:"error",icon:"","x-small":"",onClick:k(r=>t.activateDelete(i,"Village"),["stop"])},{default:e(()=>[a(d,{"x-small":""},{default:e(()=>l[61]||(l[61]=[n("mdi-delete")])),_:1})]),_:2},1032,["onClick"]),a(d,{class:"mx-1",color:t.activeVillage===i.id?"primary":"grey","x-small":"",onClick:k(r=>t.loadStates(i.id),["stop"])},{default:e(()=>l[62]||(l[62]=[n(" mdi-chevron-right ")])),_:2},1032,["color","onClick"])]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1})]),_:1})):N("",!0),t.activeCountry?N("",!0):(x(),w(W,{key:5,class:"text-center pa-10 empty-state",cols:"12"},{default:e(()=>[a(d,{color:"grey lighten-2",size:"64"},{default:e(()=>l[63]||(l[63]=[n("mdi-earth")])),_:1}),g("h3",el,v(c.$t("Select a country to begin")),1),g("p",ll,v(c.$t("Click on a country to view its administrative hierarchy")),1)]),_:1}))]),_:1})])]),_:1}),a(ve,{value:"list"},{default:e(()=>[a(ee,{flat:""},{default:e(()=>[a(le,null,{default:e(()=>[a(Ne,{class:"elevation-1",headers:t.tableHeaders,items:t.flattenedHierarchy,loading:t.loading,"loading-text":"Loading... Please wait"},{top:e(()=>[a(K,{flat:""},{default:e(()=>[a(X,null,{default:e(()=>[n(v(c.$t("All Administrative Units")),1)]),_:1}),a($),a(ie,{modelValue:t.search,"onUpdate:modelValue":l[20]||(l[20]=i=>t.search=i),"append-icon":"mdi-magnify",class:"mr-4","hide-details":"",label:"Search","single-line":""},null,8,["modelValue"])]),_:1})]),"item.actions":e(({item:i})=>[a(m,{color:"primary",icon:"",small:"",onClick:r=>t.activateEdit(i,i.type)},{default:e(()=>[a(d,{small:""},{default:e(()=>l[64]||(l[64]=[n("mdi-pencil")])),_:1})]),_:2},1032,["onClick"]),a(m,{color:"error",icon:"",small:"",onClick:r=>t.activateDelete(i,i.type)},{default:e(()=>[a(d,{small:""},{default:e(()=>l[65]||(l[65]=[n("mdi-delete")])),_:1})]),_:2},1032,["onClick"])]),_:1},8,["headers","items","loading"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})}const gl=_e(Ae,[["render",al],["__scopeId","data-v-4aa9727b"]]);export{gl as default};
